(this.webpackJsonphotstuff=this.webpackJsonphotstuff||[]).push([[0],{178:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,l=n(0),d=n.n(l),j=n(76),b=n.n(j),f=(n(178),n(17)),p=(n(110),n(38)),m=n(105),h=n(83),g=n(39),O=n(336),x=n(340),y=n(166),v=n(167),w=n(67),S=n(64),D=n(169),C=n(14),k=["#16a085","#2ecc71","#3498db","#9b59b6","#34495e","#f1c40f","#e67e22","#e74c3c"],K='[\n  {\n    "name": "first",\n    "temperatureDegC": 120,\n    "capacitanceJPerDegK": 200,\n    "powerGenW": 0,\n    "isBoundary": false\n  },\n  {\n    "name": "second",\n    "temperatureDegC": 40,\n    "capacitanceJPerDegK": 10,\n    "powerGenW": 3,\n    "isBoundary": true\n  },\n  {\n    "name": "third",\n    "temperatureDegC": -10,\n    "capacitanceJPerDegK": 8,\n    "powerGenW": 10,\n    "isBoundary": false\n  },\n]',W='[\n  {\n    source: "first",\n    target: "second",\n    resistanceDegKPerW: 0.1,\n    kind: "bi",\n  },\n  {\n    source: "second",\n    target: "third",\n    resistanceDegKPerW: 10,\n    kind: "bi",\n  },\n]',P=g.a.form(a||(a=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),J=g.a.div(r||(r=Object(p.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 0.5em;\n"]))),V=g.a.div(c||(c=Object(p.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 0.5em;\n"]))),T=g.a.label(i||(i=Object(p.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n"]))),B=g.a.label(o||(o=Object(p.a)(["\n  display: flex;\n  width: 600px;\n  justify-content: space-between;\n"]))),G=g.a.textarea(s||(s=Object(p.a)(["\n  width: 80%;\n  min-width: 80%;\n  max-width: 80%;\n  min-height: 200px;\n"]))),M=g.a.input(u||(u=Object(p.a)(["\n  width: 100px;\n  height: 30px;\n"])));function R(e){return Object(C.jsx)(J,{children:Object(C.jsxs)(T,{children:[e.label,Object(C.jsx)("input",{type:"text",defaultValue:e.defaultVal,onChange:function(t){return e.onChange(t)}})]})})}function E(e){return Object(C.jsx)(V,{children:Object(C.jsxs)(B,{children:[Object(C.jsx)("div",{style:{marginRight:"10px"},children:e.label}),Object(C.jsx)(G,{defaultValue:e.defaultVal,onChange:function(t){return e.onChange(t)}})]})})}function N(){var e=Object(l.useState)(void 0),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(120),c=Object(f.a)(r,2),i=c[0],o=c[1],s=Object(l.useState)(.1),u=Object(f.a)(s,2),d=u[0],j=u[1],b=Object(l.useState)(X(K)),p=Object(f.a)(b,2),g=p[0],J=p[1],V=Object(l.useState)(K),T=Object(f.a)(V,2),B=T[0],G=T[1],N=Object(l.useState)(Y(X(K),W)),F=Object(f.a)(N,2),A=F[0],I=F[1],L=Object(l.useState)(W),q=Object(f.a)(L,2),z=q[0],H=q[1],Q=Object(l.useState)(null),U=Object(f.a)(Q,2);U[0],U[1];function X(e){try{return m.parse(e).map((function(e){return Object(h.makeNode)({name:e.name,temperatureDegC:e.temperatureDegC,capacitanceJPerDegK:e.capacitanceJPerDegK,powerGenW:e.powerGenW,isBoundary:e.isBoundary})}))}catch(t){return console.error(t),[]}}function Y(e,t){try{return m.parse(t).map((function(t){var n=e.filter((function(e){return e.name===t.source}))[0],a=e.filter((function(e){return e.name===t.target}))[0];return Object(h.makeConnection)({source:n,target:a,resistanceDegKPerW:t.resistanceDegKPerW,kind:t.bi})}))}catch(n){return console.error(n),[]}}Object(l.useEffect)((function(){var e=X(B);J(e);var t=Y(e,z);I(t)}),[B,z]);var Z=700,$=400,_={left:40,right:40,top:40,bottom:40};return Object(C.jsxs)("div",{children:[Object(C.jsxs)(P,{onSubmit:function(e){try{a(function(){var e=performance.now(),t=Object(h.run)({nodes:g,connections:A,timeStepS:d,totalTimeS:i}),n=performance.now();return console.log("Model took ".concat(n-e," ms")),t}())}catch(t){console.error(t)}e.preventDefault()},children:[n&&n.nodeResults.length>0?Object(C.jsxs)(O.a,{width:Z,height:$,data:function(e){var t=Math.floor(Math.log10(e.totalTimeS)),n=Math.pow(10,t-1);function a(e){return 0===Math.abs(e%n)}var r=e.timeSeriesS.filter((function(t,n){return a(e.timeSeriesS[n])})).map((function(e,t){return{name:e}}));return e.nodeResults.map((function(t){t.tempDegC.filter((function(t,n){return a(e.timeSeriesS[n])})).forEach((function(e,n){return r[n][t.node.name]=e}))})),r}(n),margin:{top:_.top,right:_.right,left:_.left,bottom:_.bottom},children:[Object(C.jsx)(x.a,{strokeDasharray:"3 3"}),Object(C.jsx)(y.a,{dataKey:"name",label:{value:"Time [seconds]",position:"middle",dy:20}}),Object(C.jsx)(v.a,{label:{value:"Temperature [degC]",position:"middle",angle:-90,dx:-20}}),Object(C.jsx)(w.a,{}),Object(C.jsx)(S.a,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{paddingLeft:"10px"}}),n.nodeResults.map((function(e,t){return Object(C.jsx)(D.a,{type:"monotone",dataKey:e.node.name,stroke:k[t],activeDot:{r:8}},e.node.id)}))]}):Object(C.jsx)("h1",{children:"Welcome to hotstuff.network"}),Object(C.jsx)(M,{type:"submit",value:"Go"}),Object(C.jsx)(R,{label:"Time Step [seconds]",defaultVal:.1,onChange:function(e){return j(parseFloat(e.target.value))}}),Object(C.jsx)(R,{label:"Total Run Time [seconds]",defaultVal:120,onChange:function(e){return o(parseFloat(e.target.value))}}),Object(C.jsx)(E,{label:"Nodes",defaultVal:K,onChange:function(e){return G(e.target.value)}}),Object(C.jsx)(E,{label:"Connections",defaultVal:W,onChange:function(e){return H(e.target.value)}})]}),Object(C.jsx)("pre",{children:JSON.stringify(n,null,2)})]})}b.a.render(Object(C.jsx)(d.a.StrictMode,{children:Object(C.jsx)(N,{})}),document.getElementById("root"))}},[[334,1,2]]]);
//# sourceMappingURL=main.211311f0.chunk.js.map