(this["webpackJsonpthermalmodel.com"]=this["webpackJsonpthermalmodel.com"]||[]).push([[0],{257:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(107),r=n.n(a),o=(n(257),n(7)),c=n(32),s={maxTimeSteps:1e5,defaultTempDegC:23,defaultCapJPerDegK:10,defaultPowerGenW:0,defaultTotalTimeSeconds:600,defaultTimeStepSeconds:.1,defaultNodeName:"Unnamed",defaultNodeRadius:20,defaultResistanceDegKPerW:10,defaultSmallResistanceDegKPerW:.01,defaultEditorWidthFraction:1-1/1.61803398875,defaultCanvasHeightFraction:1/1.61803398875,defaultTableHeightFraction:.5,minPanelFraction:.1,newNodeNamePrefix:"New Node",zoomSensitivity:1500,minZoom:.5,maxZoom:2,maxZoomDelta:2,minRadiusPx:20,maxRadiusPx:40,activeNodeOutlineWidthPx:5,tabHeightPx:25,tableDeleteCellWidthPercent:.1,tableDeleteCellMinWidthPx:40,plotHeightBufferPx:10,plotMargin:{left:10,right:20,top:20,bottom:20},plotYDomainPaddingPx:15,plotTickFontSizePx:15,maxPlotPoints:400,multiSelectKeys:["metaKey","ctrlKey"],errorMessageDurationSeconds:4,maxNoteLengthChars:500},d=n(6),l=d.a.div.withConfig({displayName:"style__StyledTableWrapper",componentId:"sc-1khh7lk-0"})(["width:100%;"]),u=d.a.div.withConfig({displayName:"style__StyledTable",componentId:"sc-1khh7lk-1"})(["width:100%;border-collapse:collapse;"]),f=d.a.div.withConfig({displayName:"style__StyledTableBody",componentId:"sc-1khh7lk-2"})(["width:100%;"]),j=d.a.button.withConfig({displayName:"style__StyledAddButton",componentId:"sc-1khh7lk-3"})([""]),h=d.a.div.withConfig({displayName:"style__StyledRow",componentId:"sc-1khh7lk-4"})(["display:inline-flex;align-items:center;min-width:100%;position:sticky;top:",";background:",";"],(function(e){var t=e.heightOffsetPx;return t?"".concat(t,"px"):"0px"}),(function(e){return e.isActive?"rgba(112, 165, 255, 0.2)":"none"})),b=d.a.div.withConfig({displayName:"style__StyledCell",componentId:"sc-1khh7lk-5"})(["display:inline-flex;justify-content:center;align-items:center;border:1px solid #ddd;height:2em;width:",";min-width:",";"],(function(e){var t=e.width;return t?"".concat(100*t,"%"):"none"}),(function(e){var t=e.minWidth;return t?"".concat(t,"px"):"none"})),p=Object(d.a)(b).withConfig({displayName:"style__StyledDeleteCell",componentId:"sc-1khh7lk-6"})(["cursor:pointer;user-select:none;min-width:40px;&:hover{background:black;}"]),m=d.a.div.withConfig({displayName:"style__StyledHeaderWrapper",componentId:"sc-1khh7lk-7"})(["display:flex;width:100%;height:100%;position:sticky;top:",";z-index:1;"],(function(e){var t=e.heightOffsetPx;return t?"".concat(t,"px"):"0px"})),x=d.a.div.withConfig({displayName:"style__StyledColHeader",componentId:"sc-1khh7lk-8"})(["display:inline-flex;width:",";min-width:",";justify-content:center;align-items:center;font-weight:bold;border:1px solid lightgrey;cursor:pointer;user-select:none;position:relative;background:white;border-bottom:1px solid black;"],(function(e){var t=e.widthPercent;return t?"".concat(100*t,"%"):"none"}),(function(e){var t=e.minWidthPx;return t?"".concat(t,"px"):"none"})),O=d.a.div.withConfig({displayName:"style__StyledColText",componentId:"sc-1khh7lk-9"})(["font-size:0.8em;padding:1em;"]),v=d.a.div.withConfig({displayName:"style__StyledSortIcon",componentId:"sc-1khh7lk-10"})(["position:absolute;bottom:0;right:50%;transform:translate(50%);"]),g=n(1);function y(e){var t=e.columns,n=e.sortState,i=e.setSortState,a=n?"ASC"===n.direction?"\u25b2":"\u25bc":"";return Object(g.jsxs)(m,{heightOffsetPx:s.tabHeightPx,children:[t.map((function(e){var t=n&&n.key===e.key;return Object(g.jsxs)(x,{onClick:function(){var a;i({key:e.key,direction:t&&n?(a=n.direction,"ASC"===a?"DESC":"ASC"):"ASC"})},widthPercent:e.widthPercent,minWidthPx:e.minWidthPx,children:[Object(g.jsx)(O,{children:e.text}),Object(g.jsx)(v,{children:t?a:""})]},e.key.toString())})),Object(g.jsx)(x,{widthPercent:s.tableDeleteCellWidthPercent,minWidthPx:s.tableDeleteCellMinWidthPx,style:{cursor:"unset"}})]})}var w=n(69),S=n(3),k=d.a.select.withConfig({displayName:"DropDownTableCell__StyledSelect",componentId:"sc-1ktqyec-0"})(["display:inline-flex;width:100%;height:100%;background:unset;"]);function C(e){var t;var n=function(e){e.stopPropagation()};return Object(g.jsx)(k,{value:null===(t=e.setOption)||void 0===t?void 0:t.id,onMouseDown:n,onMouseUp:n,onChange:function(t){var n=t.target.value,i=e.options.find((function(e){return e.id===n}));void 0!==i&&e.onSelectOption(e.rowId,i)},children:e.options.map((function(e){return Object(g.jsx)("option",{value:e.id,children:e.text},e.id)}))})}var _=d.a.input.withConfig({displayName:"style__StyledInput",componentId:"sc-1oz41em-0"})(["display:inline-block;border:none;width:100%;height:100%;text-align:center;padding:0;background:unset;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}"]),N=d.a.div.withConfig({displayName:"style__StyledEditor",componentId:"sc-1oz41em-1"})(["height:","px;width:","px;border-left:3px solid black;"],(function(e){return e.height}),(function(e){return e.width})),T=d.a.div.withConfig({displayName:"style__StyledTables",componentId:"sc-1oz41em-2"})(["display:inline-flex;width:100%;height:","%;position:relative;"],(function(e){return 100*e.heightFrac})),D=d.a.div.withConfig({displayName:"style__StyledModelControlsWrapper",componentId:"sc-1oz41em-3"})(["display:inline-flex;width:100%;height:","%;position:relative;"],(function(e){return 100*e.heightFrac}));function P(e){var t=e.initialValue,n=e.onBlur,a=e.getNewValue,r=e.afterValue,c=e.validator,s=Object(i.useRef)(null),d=Object(i.useCallback)((function(e){return e+(r||"")}),[r]),l=Object(i.useState)(d(t.toString())),u=Object(o.a)(l,2),f=u[0],j=u[1];var h=Object(i.useCallback)((function(e){var i=a(e);if(e.target.value!==t.toString())if(void 0!==i){var r=c(i.toString());j(d(r.toString())),n(r)}else{var o=c(t.toString());j(d(o.toString())),n(o)}else j((function(e){return d(e)}))}),[a,t,n,c,d]);return Object(g.jsx)(_,{ref:s,type:"text",value:f,onChange:function(e){var t=e.target.value;void 0!==t&&j(t)},onFocus:function(){return j((function(e){return e.replace(r||"","")}))},onBlur:h,onKeyDown:function(e){["Escape","Enter"].includes(e.key)&&s.current&&s.current.blur()}})}function W(e){return Object(g.jsx)(P,{initialValue:e.initialValue,onBlur:e.onBlur,getNewValue:function(e){return e.target.value},validator:function(t){return e.validator?e.validator(t):t}},e.initialValue)}function K(e){return Object(g.jsx)(W,{initialValue:e.initialVal,onBlur:e.onBlur,validator:e.validator})}function M(e){var t=e.target.value,n=parseFloat(e.target.value);if(void 0!==t&&!isNaN(n))return n}function I(e){return Object(g.jsx)(P,{initialValue:e.initialValue,onBlur:e.onBlur,getNewValue:M,afterValue:e.afterValue,validator:function(t){return e.validator?parseFloat(e.validator(t.toString())):parseFloat(t)}},e.initialValue+(e.afterValue||""))}function R(e){return Object(g.jsx)(I,{initialValue:e.initialVal,onBlur:e.onBlur,afterValue:e.afterValue,validator:e.validator})}var A=d.a.div.withConfig({displayName:"BooleanTableCell__StyledCheckbox",componentId:"sc-szl7g1-0"})(["display:inline-flex;width:100%;height:100%;justify-content:center;align-items:center;cursor:pointer;user-select:none;"]);function E(e){var t=Object(i.useState)(void 0!==e.initialIsActive&&e.initialIsActive),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(g.jsxs)(A,{tabIndex:0,onKeyUp:function(t){"Enter"===t.key&&(r(!a),e.onClick(!a))},onClick:function(){r(!a),e.onClick(!a)},children:["\xa0",a?e.showWhenActive:""]})}function B(e){var t=e.row,n=e.col,i=e.onUpdateRow,a=e.options,r=e.initiallySetOption,o=e.afterValue,c=t[n.key];return a&&a.length>0&&n.onSelectOption?Object(g.jsx)(C,{rowId:t.id,options:a,setOption:r,onSelectOption:n.onSelectOption},t.id):"string"===typeof c?Object(g.jsx)(K,{initialVal:c,onBlur:function(e){return i(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))},validator:function(e){return n.validator?n.validator(t.id,e):e}}):"number"===typeof c&&"number"===typeof t[n.key]?Object(g.jsx)(R,{initialVal:c,onBlur:function(e){return i(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))},afterValue:o,validator:function(e){return n.validator?n.validator(t.id,e):e}},c):"boolean"===typeof c?Object(g.jsx)(E,{initialIsActive:c,onClick:function(e){return i(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))},showWhenActive:"\u2705"},c.toString()):Object(g.jsx)(g.Fragment,{})}function L(e,t,n){var a=Object(i.useState)(e),r=Object(o.a)(a,2),c=r[0],s=r[1];return[c,s,function(e,i){return"ASC"===c.direction?e[c.key]>i[c.key]||e[c.key]===i[c.key]&&(e[t]>i[t]||e[t]===i[t]&&e[n]>i[n])?1:-1:e[c.key]>i[c.key]?-1:e[c.key]===i[c.key]?e[t]>i[t]?1:-1:1}]}function F(e){return Object(g.jsx)(p,{tabIndex:0,onKeyUp:function(t){"Enter"===t.key&&e.onDeleteRow(e.row)},width:s.tableDeleteCellWidthPercent,minWidth:s.tableDeleteCellMinWidthPx,onClick:function(){return e.onDeleteRow(e.row)},children:"\u274c"})}var z=n(23),V=["cond","conv","rad"],H=["cond","conv"];function q(e,t,n){return n.filter((function(n){return n.firstNode.id===e&&n.secondNode.id===t||n.firstNode.id===t&&n.secondNode.id===e}))}var J=function(e,t,n,i){var a=e.name<=t.name;return Object(S.a)(Object(S.a)({},Object(c.makeConnection)({firstNode:a?e:t,secondNode:a?t:e,resistanceDegKPerW:i||s.defaultResistanceDegKPerW,kind:n})),{},{firstNodeId:a?e.id:t.id,secondNodeId:a?t.id:e.id,connectionNotes:""})};function U(e,t,n){var i=q(e.id,t.id,n);if(0===i.length)return J(e,t,"cond");var a=i.map((function(e){return e.kind})),r=V.filter((function(e){return!a.includes(e)}));return H.every((function(e){return!a.includes(e)}))?J(e,t,"cond"):H.some((function(e){return r.includes(e)}))&&!a.includes("rad")?J(e,t,"rad"):void 0}function Y(e){return 1===e?s.newNodeNamePrefix:"".concat(s.newNodeNamePrefix," [").concat(e,"]")}function X(e,t){for(var n=e.map((function(e){return e.name})),i=1;n.includes(Y(i));)i+=1;var a=Object(c.makeNode)({name:Y(i),temperatureDegC:s.defaultTempDegC,capacitanceJPerDegK:s.defaultCapJPerDegK,powerGenW:s.defaultPowerGenW,isBoundary:!1});return Object(S.a)(Object(S.a)({},a),{},{center:t,isActive:!1,textDirection:"D",nodeNotes:""})}function G(e,t){return"resistanceDegKPerW"!==e.key?void 0:"rad"===t.kind?" [K\u2074/W]":" [K/W]"}function Q(e,t,n,i){var a=i.filter((function(e){return e.id!==n.id}));if(["firstNodeId","secondNodeId"].includes(e))return function(e,t,n,i){var a="firstNodeId"===e;return t.filter((function(e){return e.id!==(a?n.firstNode.id:n.secondNode.id)&&e.id!==(a?n.secondNode.id:n.firstNode.id)})).filter((function(e){return!i.some((function(t){var i=H.includes(n.kind)&&H.includes(t.kind)||n.kind===t.kind;return a?i&&e.id===t.firstNode.id&&n.secondNode.id===t.secondNode.id||i&&e.id===t.secondNode.id&&n.secondNode.id===t.firstNode.id:i&&e.id===t.secondNode.id&&n.firstNode.id===t.firstNode.id||i&&e.id===t.firstNode.id&&n.firstNode.id===t.secondNode.id}))}))}(e,t,n,a);if("kind"===e){if(n){var r=function(e,t,n,i){var a=q(t,n,i).map((function(e){return e.kind}));return"rad"===e&&H.some((function(e){return a.includes(e)}))?[]:V.filter((function(e){return!a.includes(e)}))}(n.kind,n.firstNode.id,n.secondNode.id,i);return t.filter((function(e){return r.includes(e.id)}))}return t}return t}function Z(e){return e.firstNode.id>e.secondNode.id?"".concat(e.firstNode.id,"-").concat(e.secondNode.id):"".concat(e.secondNode.id,"-").concat(e.firstNode.id)}function $(e){var t=new Map;return e.forEach((function(e){!function(e,t){var n,i=Z(t);e.set(i,(null!==(n=e.get(i))&&void 0!==n?n:0)+1)}(t,e)})),t}function ee(e,t,n){return t.length>s.maxNoteLengthChars?(navigator.clipboard.writeText(t),n(["Note too long. Copied note to clipboard and truncated to first ".concat(s.maxNoteLengthChars," characters in table")]),t.slice(0,s.maxNoteLengthChars)):t}var te={key:"name",direction:"ASC"};function ne(e){var t=e.rows,n=e.onUpdateRow,a=e.onDeleteRow,r=e.onAddButton,d=e.setTemporaryErrors,p=L(te,"temperatureDegC","capacitanceJPerDegK"),m=Object(o.a)(p,3),x=m[0],O=m[1],v=m[2],w=Object(i.useMemo)((function(){return[{key:"name",text:"Name",minWidthPx:150,validator:function(e,n){return function(e,t){var n=e.trim(),i=""===n?s.defaultNodeName.trim():n,a=t.map((function(e){return e.trim()}));if(a.includes(i)){for(var r=2,o=function(e){return"".concat(i," [").concat(e,"]")};a.includes(o(r));)r+=1;return o(r)}return i}(n,t.filter((function(t){return t.id!==e})).map((function(e){return e.name})))}},{key:"temperatureDegC",text:"Temp [C]",minWidthPx:120,validator:function(e,t){return parseFloat(t)<-c.KELVIN?(d(["Temperature colder than what is physically possible"]),(-c.KELVIN).toString()):t}},{key:"capacitanceJPerDegK",text:"Capacitance [J/K]",minWidthPx:120},{key:"powerGenW",text:"Power Gen [W]",minWidthPx:120},{key:"isBoundary",text:"Fixed Temp?",minWidthPx:100},{key:"nodeNotes",text:"Notes",widthPercent:1,minWidthPx:100,validator:function(e,t){return ee(0,t,d)}}]}),[t,d]),S=t.sort(v).map((function(e){return Object(g.jsxs)(h,{heightOffsetPx:s.tabHeightPx,isActive:e.isActive,children:[w.map((function(t){var i=Object(g.jsx)(B,{row:e,col:t,onUpdateRow:n});return Object(g.jsx)(b,{width:t.widthPercent,minWidth:t.minWidthPx,children:i},t.key)})),Object(g.jsx)(F,{row:e,onDeleteRow:function(){return a(e)}})]},e.id)}));return Object(g.jsx)(l,{children:Object(g.jsxs)(u,{children:[Object(g.jsx)(y,{columns:w,sortState:x,setSortState:O}),Object(g.jsx)(f,{children:S}),Object(g.jsx)(j,{onClick:r,children:"+"})]})})}var ie=n(29),ae=Object.freeze({x:0,y:0});function re(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oe(e,t){return{x:e.x/t,y:e.y/t}}var ce=n(562);function se(){return-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!=navigator.userAgent.indexOf("Chrome")?"Chrome":-1!=navigator.userAgent.indexOf("Safari")?"Safari":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":"IE"}var de=s.activeNodeOutlineWidthPx,le=s.minRadiusPx,ue=s.maxRadiusPx,fe=Math.floor((le+ue)/2);function je(e,t,n,i,a,r,o,c){!function(e,t,n,i){e.save(),e.beginPath(),e.arc(t.x,t.y,n,0,2*Math.PI),e.fillStyle=i,e.fill(),e.closePath(),e.restore()}(e,n,i,a),r&&function(e,t,n,i){e.save(),e.beginPath(),e.arc(t.x,t.y,n-de/2,0,2*Math.PI),e.lineWidth=de,e.strokeStyle=i,e.stroke(),e.closePath(),e.restore()}(e,n,i,"black"),o&&function(e,t,n){e.save(),e.lineWidth=2,e.fillStyle="#FFFFFF",e.translate(t.x,t.y),e.rotate(Math.PI/4),e.beginPath(),e.moveTo(-n,0),e.lineTo(n,0),e.stroke();for(var i=0;i+4.5<n;){i+=4.5;var a=n*Math.sin(Math.acos(i/n));e.moveTo(-a-1,i),e.lineTo(a+1,i),e.stroke(),e.moveTo(-a-1,-i),e.lineTo(a+1,-i),e.stroke()}e.closePath(),e.beginPath(),e.arc(0,0,n+2,0,2*Math.PI,!1),e.arc(0,0,n,0,2*Math.PI,!0),e.fill(),e.restore()}(e,n,i),function(e,t,n,i,a){e.save(),e.font="14px Helvetica";var r=e.measureText(t),o=r.width;e.translate(n.x,n.y),"D"===a?e.fillText(t,-o/2,r.actualBoundingBoxAscent+i+2):"R"===a?e.fillText(t,i+2,r.actualBoundingBoxAscent/2):"U"===a?e.fillText(t,-o/2,-(r.actualBoundingBoxDescent+i+2)):e.fillText(t,-(o+i+2),r.actualBoundingBoxAscent/2),e.restore()}(e,t,n,i,c)}function he(e,t){t.forEach((function(n){var i=ve(n.capacitanceJPerDegK,t.map((function(e){return e.capacitanceJPerDegK}))),a=function(e,t){var n=Math.min.apply(Math,Object(ie.a)(t)),i=Math.max.apply(Math,Object(ie.a)(t)),a=i-n;return Object(ce.a)().domain([n-a/3,(n+i)/2,i+a/3]).range(["blue","#ababab","red"])(e)}(n.temperatureDegC,t.map((function(e){return e.temperatureDegC})));je(e,n.name,n.center,i,a,n.isActive,n.isBoundary,n.textDirection)}))}function be(e,t,n){var i=$(n),a=new Map(i);n.map((function(n){var r=n.firstNode,o=n.secondNode,c=n.kind,s=t.find((function(e){return e.id===r.id})),d=t.find((function(e){return e.id===o.id}));if(s&&d){var l,u,f=ve(s.capacitanceJPerDegK,t.map((function(e){return e.capacitanceJPerDegK}))),j=ve(d.capacitanceJPerDegK,t.map((function(e){return e.capacitanceJPerDegK}))),h=Z(n),b=null!==(l=a.get(h))&&void 0!==l?l:0,p=(null!==(u=i.get(h))&&void 0!==u?u:0)-b;!function(e,t,n,i,a,r,o,c){!function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;if(0!==s){var d=n.x-t.x,l=n.y-t.y,u=Math.atan2(l,d),f=Math.sqrt(d*d+l*l),j=f-o;0===c&&(e.save(),e.strokeStyle=i,e.lineWidth=2,e.translate(t.x,t.y),e.rotate(u),e.beginPath(),e.moveTo(r,0),e.lineTo(j,0),e.moveTo(j,-0),e.lineTo(r,-0),e.stroke(),e.closePath(),e.restore());var h=pe(a);if(h){var b=se(),p="Safari"===b?10:8,m=0===c&&2===s?-p:1===c&&1===s?p:0,x=e.measureText(h),O="Firefox"===b?x.actualBoundingBoxRight-x.actualBoundingBoxLeft:x.width,v=x.actualBoundingBoxAscent+x.actualBoundingBoxDescent,g="Chrome"===b?7:9;e.save(),e.font="14px Helvetica",e.fillStyle="white",e.translate(t.x,t.y),e.rotate(u),e.translate(f/2+m,0),e.beginPath(),e.arc(0,0,g,0,2*Math.PI),e.fill(),e.closePath(),e.rotate(-u),e.translate(-O/2,v/4),e.strokeText(h,0,0),e.restore()}}}(e,t,i,"black",r,n,a,o,c)}(e,s.center,f,d.center,j,c,p,b),function(e,t){var n,i=Z(t),a=null!==(n=e.get(i))&&void 0!==n?n:0;a>1&&e.set(i,a-1)}(a,n)}}))}function pe(e){return"cond"==e?"\ud83d\udd17":"conv"==e?"\u2668\ufe0f":"\u2600\ufe0f"}function me(e,t,n){var i=e.x-t.x,a=e.y-t.y;return Math.pow(i,2)+Math.pow(a,2)<=Math.pow(n,2)}function xe(e,t){var n={x:e.pageX,y:e.pageY},i=t.getBoundingClientRect();return re(n,{x:i.left,y:i.top})}function Oe(e,t){if(t.context){var n=xe(e,t.context.canvas);return i=n,a=t.canvasViewState.offset,r=t.canvasViewState.scale,re(oe(i,r),a)}return ae;var i,a,r}function ve(e,t){var n=Math.min.apply(Math,Object(ie.a)(t)),i=Math.max.apply(Math,Object(ie.a)(t));return n===i?fe:(e-n)/(i-n)*(ue-le)+le}var ge={key:"firstNodeId",direction:"ASC"},ye=[{id:"cond",text:"Conduction"},{id:"conv",text:"Convection\ufe0f\ufe0f"},{id:"rad",text:"Radiation\ufe0f"}];function we(e){var t=e.rows,n=e.nodes,a=e.onUpdateRow,r=e.onDeleteRow,c=e.onAddButton,d=e.setTemporaryErrors,p=L(ge,"secondNodeId","kind"),m=Object(o.a)(p,3),x=m[0],O=m[1],v=m[2],w=Object(i.useCallback)((function(e,i){var r=t.find((function(t){return t.id===e})),o=n.find((function(e){return e.id===i.id}));r&&o&&o.id!==r.secondNode.id&&a(Object(S.a)(Object(S.a)({},r),{},{firstNode:o,firstNodeId:o.id}))}),[n,a,t]),k=Object(i.useCallback)((function(e,i){var r=t.find((function(t){return t.id===e})),o=n.find((function(e){return e.id===i.id}));r&&o&&o.id!==r.firstNode.id&&a(Object(S.a)(Object(S.a)({},r),{},{secondNode:o,secondNodeId:o.id}))}),[n,a,t]),C=Object(i.useCallback)((function(e,n){var i=t.find((function(t){return t.id===e}));i&&a(Object(S.a)(Object(S.a)({},i),{},{kind:n.id}))}),[a,t]),_=n.map((function(e){return{id:e.id,text:e.name}})),N=Object(i.useMemo)((function(){return[{key:"firstNodeId",text:"First Node",minWidthPx:120,options:_,onSelectOption:w},{key:"secondNodeId",text:"Second Node",minWidthPx:120,options:_,onSelectOption:k},{key:"resistanceDegKPerW",text:"Resistance",minWidthPx:120,validator:function(e,t){var n=parseFloat(t);return n<=0?(d(0===n?["Resistance cannot be zero"]:["Resistance cannot be negative"]),s.defaultSmallResistanceDegKPerW.toString()):t}},{key:"kind",text:"Kind",minWidthPx:120,options:ye.map((function(e){return function(e){var t=pe(e.id);return Object(S.a)(Object(S.a)({},e),{},{text:"".concat(t," ").concat(e.text)})}(e)})),onSelectOption:C},{key:"connectionNotes",text:"Notes",widthPercent:1,minWidthPx:100,validator:function(e,t){return ee(0,t,d)}}]}),[_,C,w,k,d]),T=n.filter((function(e){return e.isActive})).map((function(e){return e.id})),D=t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:T.includes(e.firstNode.id)||T.includes(e.secondNode.id)})})).sort(v).map((function(e){var n=N.map((function(n){function i(t,i){return Object(g.jsx)(b,{width:n.widthPercent,minWidth:n.minWidthPx,children:Object(g.jsx)(B,{row:e,col:n,options:t,initiallySetOption:i,onUpdateRow:a,afterValue:G(n,e)})},n.key)}if(n.options){var r=n.options.find((function(t){return t.id===e[n.key]}));return i(r?[r].concat(Object(ie.a)(Q(n.key,n.options||[],e,t).filter((function(e){return e.id!==r.id})))):[],r)}return i([],void 0)}));return Object(g.jsxs)(h,{heightOffsetPx:s.tabHeightPx,isActive:e.isActive,children:[n,Object(g.jsx)(F,{row:e,onDeleteRow:function(){return r(e)}})]},e.id)}));return Object(g.jsx)(l,{children:Object(g.jsxs)(u,{children:[Object(g.jsx)(y,{columns:N,sortState:x,setSortState:O}),Object(g.jsx)(f,{children:D}),Object(g.jsx)(j,{onClick:c,children:"+"})]})})}var Se=d.a.div.withConfig({displayName:"Tabs__StyledTabsWrapper",componentId:"sc-tl49d5-0"})(["display:inline-flex;width:100%;flex-direction:column;overflow:auto;position:relative;"]),ke=d.a.div.withConfig({displayName:"Tabs__StyledTabs",componentId:"sc-tl49d5-1"})(["display:inline-flex;width:100%;height:","px;justify-content:space-evenly;position:sticky;top:0;left:0;background:white;box-sizing:border-box;z-index:1;"],s.tabHeightPx),Ce=d.a.div.withConfig({displayName:"Tabs__StyledTab",componentId:"sc-tl49d5-2"})(["display:inline-flex;width:",";cursor:pointer;text-decoration:none;align-items:center;background:linear-gradient( 90deg,rgba(46,228,233,1) 0%,rgba(46,228,233,1) 40%,rgba(255,0,230,1) 80%,rgba(85,9,121,1) 100% );border-radius:5px 5px 0 0;border:1px solid black;border-bottom:2px solid black;&:hover,&:focus{opacity:0.7;}"],(function(e){var t=e.width;return"".concat(100*t,"%")})),_e=d.a.div.withConfig({displayName:"Tabs__StyledTabText",componentId:"sc-tl49d5-3"})(["font-size:1.1em;padding:0.2em 0.5em;&.active{font-weight:bold;}"]),Ne=d.a.div.withConfig({displayName:"Tabs__StyledInnerContent",componentId:"sc-tl49d5-4"})(["background:white;position:relative;"]);function Te(e){var t=Object(i.useState)(0),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(g.jsxs)(Se,{children:[e.tabs.length>1&&Object(g.jsx)(ke,{children:e.tabs.map((function(e,t){return Object(g.jsx)(Ce,{tabIndex:0,onClick:function(){return r(t)},onKeyUp:function(e){"Enter"===e.key&&r(t)},width:e.width,children:Object(g.jsx)(_e,{className:t===a?"active":"",children:e.text})},e.text)}))}),Object(g.jsx)(Ne,{topLeftRounded:e.tabs.length<=1,children:e.tabs.filter((function(e,t){return t===a}))[0].component})]})}var De=Object(c.makeNode)({name:"Jerry the Cat",temperatureDegC:38.3,capacitanceJPerDegK:16200,powerGenW:100,isBoundary:!1}),Pe=Object(S.a)(Object(S.a)({},De),{},{center:{x:200,y:150},isActive:!1,textDirection:"L",nodeNotes:"Jerry is the best cat."}),We=Object(c.makeNode)({name:"Heated Cat Bed",temperatureDegC:40,capacitanceJPerDegK:1e4,powerGenW:4,isBoundary:!1}),Ke=Object(S.a)(Object(S.a)({},We),{},{center:{x:500,y:150},isActive:!1,textDirection:"R",nodeNotes:""}),Me=Object(c.makeNode)({name:"Apartment Air",temperatureDegC:22.5,capacitanceJPerDegK:6e5,powerGenW:0,isBoundary:!1}),Ie=[Pe,Ke,Object(S.a)(Object(S.a)({},Me),{},{center:{x:350,y:300},isActive:!1,textDirection:"D",nodeNotes:""})],Re=[J(De,We,"cond",2.5),J(Me,De,"conv",.33),J(Me,We,"conv",.67)],Ae={timeStepS:s.defaultTimeStepSeconds,totalTimeS:s.defaultTotalTimeSeconds},Ee={offset:ae,scale:1},Be={editorWidthFraction:s.defaultEditorWidthFraction,canvasHeightFraction:s.defaultCanvasHeightFraction,tableHeightFraction:s.defaultTableHeightFraction},Le={visible:!1,type:"theory"},Fe={timing:Ae,nodes:Ie,connections:Re,canvasViewState:Ee,savedCanvasState:Ee,panelSizes:Be};function ze(e){return JSON.stringify(e,null,2)}function Ve(){return new Date((new Date).setHours((new Date).getHours()-(new Date).getTimezoneOffset()/60)).toISOString()}function He(e){var t=new Blob([ze(e)],{type:"text/plain;charset=utf-8"});return URL.createObjectURL(t)}var qe=d.a.div.withConfig({displayName:"ModelControls__StyledModelControlsWrapper",componentId:"sc-univex-0"})(["display:flex;flex-direction:column;width:100%;justify-content:center;align-items:center;border-top:3px solid black;flex-wrap:wrap;"]),Je=d.a.button.withConfig({displayName:"ModelControls__StyledButton",componentId:"sc-univex-1"})(["margin-top:5px;margin-bottom:5px;"]),Ue=d.a.a.withConfig({displayName:"ModelControls__StyledAnchor",componentId:"sc-univex-2"})(["margin-top:5px;margin-bottom:5px;"]),Ye=d.a.div.withConfig({displayName:"ModelControls__StyledImport",componentId:"sc-univex-3"})(["padding:0.2em;border:1px solid black;"]),Xe=d.a.input.withConfig({displayName:"ModelControls__StyledInput",componentId:"sc-univex-4"})(["margin-right:0.5em;"]),Ge=d.a.div.withConfig({displayName:"ModelControls__StyledTopControls",componentId:"sc-univex-5"})(["display:flex;> *{margin:1em;}"]),Qe=d.a.div.withConfig({displayName:"ModelControls__StyledTimeControls",componentId:"sc-univex-6"})([""]),Ze=d.a.div.withConfig({displayName:"ModelControls__StyledTimeControl",componentId:"sc-univex-7"})(["display:flex;flex-wrap:wrap;width:100%;align-items:center;justify-content:space-between;margin:0.5em;"]),$e=d.a.div.withConfig({displayName:"ModelControls__StyledInputWrapper",componentId:"sc-univex-8"})(["border:1px solid black;border-radius:2px;max-width:3em;height:1.5em;"]),et=d.a.label.withConfig({displayName:"ModelControls__StyledLabel",componentId:"sc-univex-9"})(["margin-right:0.2em;"]);function tt(e){var t=e.appState,n=e.setAppState,a=e.setOutput,r=e.setModalState,c=e.onRunModel,s=e.setTiming,d=Object(i.useState)(""),l=Object(o.a)(d,2),u=l[0],f=l[1],j=Object(i.useRef)(null),h=Object(i.useRef)(null);return Object(g.jsxs)(qe,{children:[Object(g.jsxs)(Qe,{children:[Object(g.jsxs)(Ze,{children:[Object(g.jsx)(et,{children:"Run Time [s]:"}),Object(g.jsx)($e,{children:Object(g.jsx)(I,{initialValue:t.timing.totalTimeS,onBlur:function(e){return s(Object(S.a)(Object(S.a)({},t.timing),{},{totalTimeS:e}))}})})]}),Object(g.jsxs)(Ze,{children:[Object(g.jsx)(et,{children:"Time Step [s]:"}),Object(g.jsx)($e,{children:Object(g.jsx)(I,{initialValue:t.timing.timeStepS,onBlur:function(e){return s(Object(S.a)(Object(S.a)({},t.timing),{},{timeStepS:e}))}})})]})]}),Object(g.jsxs)(Ge,{children:[Object(g.jsx)(Je,{onClick:c,children:"Run Model"}),Object(g.jsx)(Je,{onClick:function(){return navigator.clipboard.writeText(ze(t))},children:"Copy Model"}),Object(g.jsx)(Je,{onClick:function(){var e=c();navigator.clipboard.writeText(ze(Object(S.a)(Object(S.a)({},t),{},{output:e})))},children:"Run & Copy Results"}),Object(g.jsx)(Ue,{ref:j,onClick:function(){return function(e,t){if(e.current){var n=He(t);e.current.setAttribute("href",n),e.current.setAttribute("download","".concat(Ve(),"_thermal_model.json"))}}(j,t)},children:"Download Model"}),Object(g.jsx)(Ue,{ref:h,onClick:function(){var e=c();!function(e,t){if(e.current){var n=He(t);e.current.setAttribute("href",n),e.current.setAttribute("download","".concat(Ve(),"_thermal_model_with_results.json"))}}(h,Object(S.a)(Object(S.a)({},t),{},{output:e}))},children:"Run & Download Results"})]}),Object(g.jsxs)(Ye,{children:[Object(g.jsx)(et,{children:"Model:"}),Object(g.jsx)(Xe,{value:u,onChange:function(e){return f(e.target.value)}}),Object(g.jsx)(Je,{onClick:function(){var e=JSON.parse(u);n(e),a(e.output),f("")},children:"Import"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{id:"file-importer",type:"file",accept:".json",style:{display:"none"},onChange:function(e){return function(e,t,n){var i=e.target.files;if(i&&0!==i.length){var a=i[0],r=new FileReader;r.onload=function(){var e=r.result;if(e&&"string"===typeof e){var i=JSON.parse(e);t(i),n(i.output)}},r.readAsText(a)}}(e,n,a)}}),Object(g.jsx)("label",{htmlFor:"file-importer",children:"Import Model from File"})]})]}),Object(g.jsx)(Je,{onClick:function(){return r((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!0,type:"confirm",onConfirm:function(){n(Fe),a(void 0)},confirmText:["This will reset the entire model, discarding all your current nodes, connections, parameters and results.","Permanently reset everything?"]})}))},children:"Reset"})]})}function nt(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return[n,a,function(e){a(e),setTimeout((function(){return a([])}),1e3*s.errorMessageDurationSeconds)}]}var it=d.a.button.withConfig({displayName:"style__StyledExitButton",componentId:"sc-1xfbc7o-0"})(["position:absolute;right:1em;top:1em;display:flex;align-items:center;justify-content:center;width:30px;height:30px;margin:0;padding:0;"]),at=d.a.div.withConfig({displayName:"ErrorModal__StyledError",componentId:"sc-1lfh5r6-0"})(["color:red;background:white;font-size:2em;text-align:center;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);padding:2em;z-index:20;width:80%;border:1px solid red;opacity:0.9;animation:FadeAnimation ","s ease-in forwards;@keyframes FadeAnimation{0%{opacity:0.9;visibility:",";}80%{opacity:0.9;visibility:",";}100%{opacity:0;visibility:hidden;}}"],s.errorMessageDurationSeconds,(function(e){return e.isVisible?"visible":"hidden"}),(function(e){return e.isVisible?"visible":"hidden"}));function rt(e){var t=e.errors,n=e.setErrors;return 0===t.length?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(at,{isVisible:!0,children:[Object(g.jsx)(it,{onClick:function(){n([])},children:"\u274c"}),t.map((function(e){return Object(g.jsx)("div",{children:e},e)}))]})}function ot(e){var t=e.appState,n=e.setAppState,i=e.setOutput,a=e.setModalState,r=e.width,c=e.height,d=e.setTiming,l=e.onAddNode,u=e.onAddConnection,f=e.updateNodes,j=e.deleteNodes,h=e.updateConnections,b=e.deleteConnections,p=e.onRunModel,m=nt(),x=Object(o.a)(m,3),O=x[0],v=x[1],y=x[2],w=nt(),S=Object(o.a)(w,3),k=S[0],C=S[1],_=S[2],P=Object(g.jsx)(ne,{rows:t.nodes,onUpdateRow:function(e){return f([e],!1)},onDeleteRow:function(e){return j([e.id])},onAddButton:l,setTemporaryErrors:y}),W=Object(g.jsx)(we,{rows:t.connections,nodes:t.nodes,onUpdateRow:function(e){return h([e])},onDeleteRow:function(e){return b([e.id])},onAddButton:u,setTemporaryErrors:y});return Object(g.jsxs)(N,{width:r,height:c,children:[Object(g.jsxs)(T,{heightFrac:t.panelSizes.tableHeightFraction,children:[Object(g.jsx)(rt,{errors:O,setErrors:v}),Object(g.jsx)(Te,{tabs:[{text:"Nodes",component:P,width:.5},{text:"Connections",component:W,width:.5}]})]}),Object(g.jsxs)(D,{heightFrac:1-t.panelSizes.tableHeightFraction,children:[Object(g.jsx)(rt,{errors:k,setErrors:C}),Object(g.jsx)(tt,{appState:t,setAppState:n,setOutput:i,setModalState:a,onRunModel:function(){if(!(Math.ceil(t.timing.totalTimeS/t.timing.timeStepS)>s.maxTimeSteps))return p();_(["Decrease model run time or increase time step size"])},setTiming:d})]})]})}var ct,st,dt=n(4),lt=n(246),ut=n(558),ft=n(561),jt=n(239),ht=n(240),bt=n(231),pt=n(93),mt=n(90),xt=d.a.div.withConfig({displayName:"LinePlot__StyledToolTip",componentId:"sc-xj5jw3-0"})(["background:rgba(255,255,255,0.7);padding:0.2em;border:1px solid black;"]),Ot=d.a.div.withConfig({displayName:"LinePlot__StyledToolTipTitle",componentId:"sc-xj5jw3-1"})(["font-size:1em;font-weight:bold;"]),vt=d.a.div.withConfig({displayName:"LinePlot__StyledToolTipItem",componentId:"sc-xj5jw3-2"})(["color:",";display:flex;justify-content:space-between;"],(function(e){return e.color})),gt=d.a.div.withConfig({displayName:"LinePlot__StyledToolTipValue",componentId:"sc-xj5jw3-3"})(['margin-left:1em;&::after{content:"','";}'],(function(e){return e.after}));function yt(e){var t=e.active,n=e.payload,i=e.label,a=e.after;if(t&&n&&n.length){var r=Object(ie.a)(n).sort((function(e,t){return e.value>t.value?-1:e.value===t.value?e.name>t.name?1:-1:1}));return Object(g.jsxs)(xt,{children:[Object(g.jsx)(Ot,{children:"Time: ".concat(i,"s")}),r.map((function(e){return Object(g.jsxs)(vt,{color:e.color||"black",children:[Object(g.jsx)("div",{children:e.name}),Object(g.jsx)(gt,{after:a,children:e.value})]},e.name)}))]})}return null}function wt(e){var t=e.plotDimensions,n=e.plotData,i=e.lines,a=e.xAxisKey,r=e.xLabel,o=e.yLabel,c=e.unit;return Object(g.jsxs)(ut.a,{height:t.height,width:t.width,margin:t.margin,data:n,children:[Object(g.jsx)(ft.a,{strokeDasharray:"3 3"}),Object(g.jsx)(jt.a,{dataKey:a,tick:{fontSize:"".concat(s.plotTickFontSizePx)},label:{value:r,position:"center",dy:20}}),Object(g.jsx)(ht.a,{domain:["dataMin","auto"],allowDecimals:!1,tick:{fontSize:"".concat(s.plotTickFontSizePx)},padding:{top:s.plotYDomainPaddingPx,bottom:s.plotYDomainPaddingPx},label:{value:o,position:"center",angle:-90,dx:-20}}),Object(g.jsx)(bt.a,{y:0,stroke:"black",strokeWidth:2}),Object(g.jsx)(pt.a,{content:Object(g.jsx)(yt,{after:c})}),Object(g.jsx)(mt.a,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{paddingLeft:"10px",paddingBottom:"10px"}}),i]})}function St(e){return e.firstNode.temperatureDegC>=e.secondNode.temperatureDegC}function kt(e){var t=St(e),n=t?e.firstNode.name:e.secondNode.name,i=t?e.secondNode.name:e.firstNode.name;return"".concat(n," to ").concat(i)}function Ct(e){var t=Math.floor(Math.log10(e.totalTimeS)),n=Math.pow(10,t-1);var i=e.timeSeriesS.length<s.maxPlotPoints,a=[],r=[];return e.timeSeriesS.forEach((function(t,o){if(i||(d=t,0===Math.abs(d%n))){var c={time:t},s={time:t};e.nodeResults.forEach((function(e){var t,n=e.tempDegC[o];c[e.node.name]=(t=n,Math.round(10*t)/10)})),e.connectionResults.forEach((function(e){var t,n=e.heatTransferW[o],i=St(e.connection)?n:-n;s[kt(e.connection)]=(t=i,Math.round(100*t)/100)})),a.push(c),r.push(s)}var d})),[a,r]}var _t=["#2ecc71","#3498db","#9b59b6","#e74c3c","#e67e22","#34495e","#16a085"],Nt=d.a.div(ct||(ct=Object(dt.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  .chart {\n    width: 60% !important;\n    max-width: 900px;\n\n    @media only screen and (max-width: 600px) {\n      width: 90% !important;\n      touch-action: pan-y;\n    }\n  }\n"]))),Tt=d.a.div(st||(st=Object(dt.a)(["\n  width: 100%;\n  height: ","px;\n  border-top: 3px solid black;\n  margin: 0;\n  padding: 0;\n"])),(function(e){return e.height}));function Dt(e){var t=!!(e.modelOutput&&e.modelOutput.nodeResults.length>0)&&e.modelOutput?e.modelOutput:c.emptyOutput,n=Ct(t),a=Object(o.a)(n,2),r=a[0],s=a[1],d=Object(i.useMemo)((function(){return t.connectionResults.map((function(e,t){return Object(g.jsx)(lt.a,{type:"monotone",dataKey:kt(e.connection),stroke:_t[t],activeDot:{r:8},isAnimationActive:!1},e.connection.id)}))}),[t.connectionResults]),l=Object(i.useMemo)((function(){return t.nodeResults.map((function(e,t){return Object(g.jsx)(lt.a,{type:"monotone",dataKey:e.node.name,stroke:_t[t],activeDot:{r:8},isAnimationActive:!1},e.node.id)}))}),[t.nodeResults]),u=Object(g.jsx)(wt,{plotDimensions:e.plotDimensions,plotData:r,lines:l,xAxisKey:"time",xLabel:"Time [s]",yLabel:"Temperature [degC]",unit:"degC"}),f=Object(g.jsx)(wt,{plotDimensions:e.plotDimensions,plotData:s,lines:d,xAxisKey:"time",xLabel:"Time [s]",yLabel:"Heat Transfer [W]",unit:"W"});return Object(g.jsx)(Tt,{height:e.plotDimensions.height,width:e.plotDimensions.width,children:Object(g.jsx)(Nt,{children:Object(g.jsx)(Te,{tabs:[{text:"Temperature",component:u,width:.5},{text:"Heat Transfer",component:f,width:.5}]})})})}var Pt=s.maxZoom,Wt=s.minZoom,Kt=s.zoomSensitivity,Mt=s.maxZoomDelta;var It=d.a.div.withConfig({displayName:"CanvasControls__StyledButtons",componentId:"sc-wwqk9p-0"})(["position:absolute;bottom:0;left:0;display:flex;flex-direction:column;"]),Rt=d.a.button.withConfig({displayName:"CanvasControls__StyledButton",componentId:"sc-wwqk9p-1"})(["margin:0.2em;"]);function At(e){return Object(g.jsxs)(It,{children:[Object(g.jsx)(Rt,{onClick:function(){return e.canvasState.context&&e.setCanvasViewState({offset:ae,scale:1})},children:"Reset View"}),Object(g.jsx)(Rt,{onClick:function(){return e.canvasState.context&&e.setCanvasViewState({offset:e.savedCanvasState.offset,scale:e.savedCanvasState.scale})},children:"Reset View to Saved"}),Object(g.jsx)(Rt,{onClick:function(){e.setSavedCanvasState({offset:e.canvasState.canvasViewState.offset,scale:e.canvasState.canvasViewState.scale})},children:"Save View"})]})}var Et,Bt,Lt=d.a.div.withConfig({displayName:"ModalControls__StyledModalControls",componentId:"sc-ouizrn-0"})(["position:absolute;right:10px;top:10px;"]),Ft=d.a.button.withConfig({displayName:"ModalControls__StyledModalControlButton",componentId:"sc-ouizrn-1"})(["margin-left:1em;"]);function zt(e){var t=e.setModalState;return Object(g.jsxs)(Lt,{children:[Object(g.jsx)(Ft,{onClick:function(){return t({visible:!0,type:"theory"})},children:"Theory"}),Object(g.jsx)(Ft,{onClick:function(){return t({visible:!0,type:"tutorial"})},children:"Tutorial"}),Object(g.jsx)(Ft,{onClick:function(){return t({visible:!0,type:"about"})},children:"About"})]})}var Vt=d.a.div(Et||(Et=Object(dt.a)(["\n  display: block;\n  max-height: 100%;\n  position: relative;\n"]))),Ht=d.a.canvas(Bt||(Bt=Object(dt.a)(["\n  width: ",";\n  height: ",";\n"])),(function(e){var t=e.cssWidth;return"".concat(t,"px")}),(function(e){var t=e.cssHeight;return"".concat(t,"px")}));function qt(e){var t,n,a=e.canvasWidth,r=e.canvasHeight,c=e.devicePixelRatio,s=e.draw,d=e.onMouseDown,l=e.handleDoubleClick,u=e.canvasViewState,f=e.setCanvasViewState,j=e.savedCanvasViewState,h=e.setSavedCanvasViewState,b=e.setKeyboardActive,p=e.setModalState,m=Object(i.useRef)(null);t=m,n=b,Object(i.useEffect)((function(){var e=function(e){var i=!!t.current&&t.current.contains(e.target);n(i)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n]);var x=function(e,t,n){var a=Object(i.useState)(null),r=Object(o.a)(a,2),c=r[0],s=r[1],d=Object(i.useRef)(ae),l=Object(i.useRef)(ae),u=Object(i.useRef)(t),f=Object(i.useCallback)((function(e){if(c){var i=xe(e,c.canvas);l.current=d.current,d.current=i;var a=oe(re(d.current,l.current),t.scale),r={scale:t.scale,offset:(o=u.current.offset,s=a,{x:o.x+s.x,y:o.y+s.y})};n(r),u.current=r}var o,s}),[c,t.scale,n]),j=Object(i.useCallback)((function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",j)}),[f]),h=Object(i.useCallback)((function(e){c&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",j),d.current=xe(e,c.canvas))}),[c,f,j]);return Object(i.useLayoutEffect)((function(){function i(e){if(e.preventDefault(),c){var i=xe(e,c.canvas);l.current=d.current,d.current=i;var a=e.deltaY/Kt,r=1-(Math.abs(a)>Mt?a/Math.abs(a)*Mt:a),o=t.scale*r;if(o>Pt||o<Wt)return;var s=re(oe(d.current,t.scale),oe(d.current,o)),f={offset:re(u.current.offset,s),scale:o};n(f),u.current=f}}var a=e.current;if(a)return u.current=t,a.addEventListener("wheel",i),function(){return a.removeEventListener("wheel",i)}}),[e,t,c,n]),[c,s,h]}(m,u,f),O=Object(o.a)(x,3),v=O[0],y=O[1],w=O[2];return Object(i.useLayoutEffect)((function(){if(m.current){var e=m.current.getContext("2d");y(e)}}),[y]),Object(i.useLayoutEffect)((function(){v&&(v.canvas.width=a*c,v.canvas.height=r*c,v.scale(u.scale*c,u.scale*c),v.translate(u.offset.x,u.offset.y),s(v))}),[r,a,v,c,s,u.offset.x,u.offset.y,u.scale]),Object(g.jsxs)(Vt,{children:[Object(g.jsx)(zt,{setModalState:p}),Object(g.jsx)(At,{setCanvasViewState:f,canvasState:{context:v,canvasViewState:u,canvasWidth:a,canvasHeight:r},savedCanvasState:j,setSavedCanvasState:h}),Object(g.jsx)(Ht,{ref:m,width:a*c,height:r*c,cssWidth:a,cssHeight:r,onMouseDown:function(e){return d(e,{context:v,canvasViewState:u,canvasWidth:a,canvasHeight:r},(function(){return w(e)}))},onDoubleClick:function(e){return l(e,{context:v,canvasViewState:u,canvasWidth:a,canvasHeight:r})}})]})}function Jt(e,t,n,a){var r=Object(i.useCallback)((function(e,t,n){if(n.context){var i=Oe(e,n);a(n),function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=2;var o=n.x-t.x,c=n.y-t.y,s=Math.atan2(c,o),d=Math.sqrt(o*o+c*c);e.translate(t.x,t.y),e.rotate(s),e.beginPath(),e.moveTo(a,0);var l=d-r;e.lineTo(l,0),e.stroke(),e.closePath(),e.restore()}(n.context,t.center,i,"grey")}}),[a]);return Object(i.useCallback)((function(i,o,c){var s=function(e){r(e,o,c)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function i(r){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i);var d=Oe(r,c),l=e.find((function(t){var n=ve(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return me(d,t.center,n)&&t.id!==o.id}));if(l){var u=U(o,l,t);u?n(u):a(c)}else a(c)}))}),[n,t,e,a,r])}function Ut(e,t,n,i,a,r){var o=re(Oe(e,n),i.center),c=re(Oe(t,n),o),s=Object(S.a)(Object(S.a)({},i),{},{isActive:!0,center:c}),d=i.isActive||a?r.map((function(e){var t=re(i.center,e.center);return Object(S.a)(Object(S.a)({},e),{},{center:re(c,t)})})):[];return[s].concat(Object(ie.a)(d))}function Yt(e,t,n){return Object(i.useCallback)((function(i,a){var r=Oe(i,a),c=function(e){var t,i,o,c;a.context&&(n(a),t=a.context,i=r,o=Oe(e,a),c="grey",t.save(),t.beginPath(),t.fillStyle=c,t.globalAlpha=.2,t.fillRect(i.x,i.y,o.x-i.x,o.y-i.y),t.closePath(),t.beginPath(),t.strokeStyle=c,t.rect(i.x,i.y,o.x-i.x,o.y-i.y),t.stroke(),t.closePath(),t.restore())};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function n(i){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",n);var s=Oe(i,a),d=e.filter((function(e){return function(e,t,n){var i=e.x<t.x&&e.y<t.y?[e,t]:[t,e],a=Object(o.a)(i,2),r=a[0],c=a[1],s=e.x<t.x&&e.y>t.y?[e,t]:[t,e],d=Object(o.a)(s,2),l=d[0],u=d[1];return r.x<=n.x&&n.x<=c.x&&r.y<=n.y&&n.y<=c.y||l.x<=n.x&&n.x<=u.x&&u.y<=n.y&&n.y<=l.y}(r,s,e.center)||e.isActive})).map((function(e){return e.id}));t(d)}))}),[e,n,t])}function Xt(e,t,n,a,r,o,c){var d=Jt(e,t,n,c),l=function(e){var t=Object(i.useRef)(!1);return Object(i.useCallback)((function(n,i,a,r){var o=s.multiSelectKeys.some((function(e){return n[e]})),c=function(c){if(r.context){t.current=!0;var d=Ut(n,c,r,i,o,a);e(d,!s.multiSelectKeys.some((function(e){return c[e]})))}};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function s(d){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",s);var l=Ut(n,d,r,i,o,a);e(l,!o),t.current=!1}))}),[e])}(a),u=Yt(e,r,c);return Object(i.useCallback)((function(t,n,i){var a=Oe(t,n),c=e.filter((function(e){return e.isActive})),f=c.map((function(e){return e.id})),j=e.find((function(t){var n=ve(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return me(a,t.center,n)}));if(j)t.altKey?d(t,j,n):s.multiSelectKeys.some((function(e){return t[e]}))&&f.includes(j.id)?r(f.filter((function(e){return e!==j.id}))):l(t,j,c,n);else if(s.multiSelectKeys.some((function(e){return t[e]})))u(t,n);else{document.addEventListener("mouseup",(function e(n){n.clientX===t.clientX&&n.clientY===t.clientY&&o(),document.removeEventListener("mouseup",e)})),i(t)}}),[e,o,l,u,d,r])}function Gt(e){var t=Object(i.useRef)(void 0),n=e.onDragX,a=e.onDragY,r=e.constrainX,o=e.constrainY,c=function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)},s=function(e){if(t.current){var i={x:e.pageX,y:e.pageY},c=re(i,t.current);n&&n(c.x),a&&a(c.y),t.current={x:r?r(i.x):i.x,y:o?o(i.y):i.y}}};return function(e){document.addEventListener("mousemove",s),document.addEventListener("mouseup",c),t.current={x:e.pageX,y:e.pageY}}}function Qt(e){return e<s.minPanelFraction?s.minPanelFraction:e>1-s.minPanelFraction?1-s.minPanelFraction:e}var Zt=d.a.div.withConfig({displayName:"style__StyledApp",componentId:"sc-sd268b-0"})(["display:flex;height:","px;filter:",";pointer-events:",";user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;"],(function(e){return e.height}),(function(e){return e.modalOpen?"blur(5px)":"unset"}),(function(e){return e.modalOpen?"none":"unset"})),$t=d.a.div.withConfig({displayName:"style__StyledDraggableBorder",componentId:"sc-sd268b-1"})(["position:absolute;z-index:1;"]),en=Object(d.a)($t).withConfig({displayName:"style__StyledHorizontalBorder",componentId:"sc-sd268b-2"})(["width:","%;height:10px;top:","%;transform:translate(0,-5px);cursor:row-resize;left:","%;"],(function(e){return 100*e.width}),(function(e){return 100*e.y}),(function(e){return 100*e.left})),tn=Object(d.a)($t).withConfig({displayName:"style__StyledVerticalBorder",componentId:"sc-sd268b-3"})(["height:100%;width:10px;left:","%;transform:translate(-5px,0);cursor:col-resize;"],(function(e){return 100*e.x})),nn=d.a.div.withConfig({displayName:"style__StyledWorkspace",componentId:"sc-sd268b-4"})(["height:","px;width:","px;"],(function(e){return e.height}),(function(e){return e.width})),an=d.a.div.withConfig({displayName:"style__StyledCanvas",componentId:"sc-sd268b-5"})(["width:100%;height:","px;"],(function(e){return e.height}));var rn=d.a.div.withConfig({displayName:"ConfirmationModal__StyledConfirmationModal",componentId:"sc-1g3ppnp-0"})(["display:flex;flex-direction:column;margin:2em;justify-content:center;align-items:center;line-height:1.8em;"]),on=d.a.p.withConfig({displayName:"ConfirmationModal__StyledConfirmationText",componentId:"sc-1g3ppnp-1"})(["margin:0.8em;font-size:1.5em;font-weight:bold;max-width:800px;text-align:center;"]),cn=d.a.div.withConfig({displayName:"ConfirmationModal__StyledConfirmationButtons",componentId:"sc-1g3ppnp-2"})(["display:flex;"]),sn=d.a.button.withConfig({displayName:"ConfirmationModal__StyledConfirmationButton",componentId:"sc-1g3ppnp-3"})(["font-size:1.5em;margin-left:1em;margin-right:1em;min-width:100px;"]);function dn(e){var t=e.modalState,n=e.setModalState;return Object(g.jsxs)(rn,{children:[t.confirmText&&t.confirmText.map((function(e){return Object(g.jsx)(on,{children:e},e)})),Object(g.jsxs)(cn,{children:[Object(g.jsx)(sn,{onClick:function(){return n((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"No"}),Object(g.jsx)(sn,{onClick:function(){t.onConfirm&&t.onConfirm(),n((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"Yes"})]})]})}var ln,un,fn,jn,hn,bn,pn,mn,xn,On,vn,gn,yn,wn,Sn,kn,Cn,_n,Nn,Tn,Dn,Pn,Wn,Kn,Mn,In,Rn,An,En,Bn,Ln,Fn,zn,Vn,Hn,qn,Jn,Un,Yn,Xn,Gn,Qn,Zn,$n,ei,ti,ni,ii,ai,ri,oi,ci,si,di,li,ui,fi,ji,hi,bi,pi,mi,xi,Oi,vi,gi,yi,wi,Si,ki,Ci,_i,Ni,Ti,Di,Pi,Wi,Ki,Mi,Ii,Ri,Ai,Ei,Bi,Li=n(5),Fi=d.a.div.withConfig({displayName:"TheoryModal__StyledTheoryModal",componentId:"sc-15u6xwj-0"})(["max-width:1200px;height:100%;overflow-y:auto;padding:3em;border-left:1px solid black;border-right:1px solid black;"]),zi=d.a.h1.withConfig({displayName:"TheoryModal__StyledTitle",componentId:"sc-15u6xwj-1"})([""]),Vi=d.a.p.withConfig({displayName:"TheoryModal__StyledText",componentId:"sc-15u6xwj-2"})([""]),Hi=d.a.a.withConfig({displayName:"TheoryModal__StyledLink",componentId:"sc-15u6xwj-3"})([""]),qi=d.a.li.withConfig({displayName:"TheoryModal__StyledListItem",componentId:"sc-15u6xwj-4"})(["margin-bottom:1em;"]);function Ji(){return Object(g.jsxs)(Fi,{children:[Object(g.jsx)(zi,{children:"How Does thermalmodel.com Work?"}),Object(g.jsxs)(Vi,{children:["The model used by thermalmodel.com is a linear"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/State-space_representation",target:"_blank",children:"state space"})," ","model based off conservation of heat flow:"," "]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(ln||(ln=Object(dt.a)(["sum{q_{in/out}} + sum{q_{generated/consumed}} = 0"],["\\sum{q_{in/out}} + \\sum{q_{generated/consumed}} = 0"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(un||(un=Object(dt.a)(["sum{q_{in/out}}"],["\\sum{q_{in/out}}"])))})," ","is the sum of all heat transfer in or out in Watts"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(fn||(fn=Object(dt.a)(["[W]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(jn||(jn=Object(dt.a)(["sum{q_{generated/consumed}}"],["\\sum{q_{generated/consumed}}"])))})," ","is the sum of all heat generated or consumed, in Watts"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(hn||(hn=Object(dt.a)(["[W]"])))})]})]}),Object(g.jsxs)(Vi,{children:["The class of model is referred to as a"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Lumped-element_model#Thermal_systems",target:"_blank",children:"Lumped-Element model"}),', which produces accurate results when each "lump", or in the terminology of this tool, "node", can be assumed to have uniform temperature. A node can be assumed to be uniform temperature when the diffusion of heat energy within it is much greater than the transfer of heat into or out of it. This is quantified by a small'," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Biot_number",target:"_blank",children:"Biot number"}),"."]}),Object(g.jsx)(Vi,{children:"What follows is the definition and manipulation of fundamental heat transfer equations into the numerical form thermalmodel.com uses to calculate node temperatures when it runs a model."}),Object(g.jsxs)(Vi,{children:[Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_conduction#Fourier's_law",target:"_blank",children:"Fourier's Law in 1 dimension"})," ","states:"]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(bn||(bn=Object(dt.a)(["q =-c Delta T"],["q =-c \\Delta T"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(pn||(pn=Object(dt.a)(["q"])))})," is heat transfer in Watts ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(mn||(mn=Object(dt.a)(["[W]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(xn||(xn=Object(dt.a)(["c"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_contact_conductance",target:"_blank",children:"Thermal Conductance"})," ","or"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_transmittance",target:"_blank",children:"Thermal Transmittance"})," ","in Watts per degree Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(On||(On=Object(dt.a)(["[\frac{W}{K}]"],["[\\frac{W}{K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(vn||(vn=Object(dt.a)(["Delta T"],["\\Delta T"])))})," is the temperature difference in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(gn||(gn=Object(dt.a)(["[K]"])))})]})]}),Object(g.jsxs)(Vi,{children:["The reciprocal of Thermal Conductance is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_resistance",target:"_blank",children:"Thermal Resistance"})," ",", ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(yn||(yn=Object(dt.a)(["R = \frac{1}{c}"],["R = \\frac{1}{c}"])))}),", measured in degrees Kelvin per Watt"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(wn||(wn=Object(dt.a)(["[\frac{K}{W}]"],["[\\frac{K}{W}]"])))}),". For a given object or material, this can be thought of as the temperature difference required to get one Watt of heat energy to flow through it. Materials with higher thermal resistance require more of a temperature difference to achieve the same heat flow."]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Sn||(Sn=Object(dt.a)(["q = -\frac{Delta T}{R}"],["q = -\\frac{\\Delta T}{R}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(kn||(kn=Object(dt.a)(["q"])))})," is heat transfer in Watts ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Cn||(Cn=Object(dt.a)(["[W]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(_n||(_n=Object(dt.a)(["Delta T"],["\\Delta T"])))})," is the temperature difference in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Nn||(Nn=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Tn||(Tn=Object(dt.a)(["R"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_resistance",target:"_blank",children:"Thermal Resistance"})," ","in degrees Kelvin per Watt"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Dn||(Dn=Object(dt.a)(["[\frac{K}{W}]"],["[\\frac{K}{W}]"])))})]})]}),Object(g.jsxs)(Vi,{children:["The definition of"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_capacity",target:"_blank",children:"Thermal Capacitance"})," ","(different than Thermal Conductance above) is the amount of heat energy applied to an object to produce 1 degree of temperature change in it:"]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Pn||(Pn=Object(dt.a)(["C = lim_{Delta T \to 0} \frac{Q}{Delta T} = \frac{dQ}{dT}"],["C = \\lim_{\\Delta T \\to 0} \\frac{Q}{\\Delta T} = \\frac{dQ}{dT}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Wn||(Wn=Object(dt.a)(["C"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_capacity",target:"_blank",children:"Thermal Capacitance"})," ",", or Heat Capacity, in Joules per degree Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Kn||(Kn=Object(dt.a)(["[\frac{J}{K}]"],["[\\frac{J}{K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Mn||(Mn=Object(dt.a)(["Q"])))})," is heat transferred in Joules"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(In||(In=Object(dt.a)(["[J]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Rn||(Rn=Object(dt.a)(["Delta T"],["\\Delta T"])))})," is the temperature difference in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(An||(An=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(En||(En=Object(dt.a)(["\frac{dQ}{dT}"],["\\frac{dQ}{dT}"])))})," is the rate of change of heat energy with respect to temperature in Joules per degree"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Bn||(Bn=Object(dt.a)(["[\frac{J}{K}]"],["[\\frac{J}{K}]"])))})]})]}),Object(g.jsx)(Vi,{children:"Rearranging and differentiating the equation above with respect to time, we obtain the following:"}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Ln||(Ln=Object(dt.a)(["q = C \frac{dT}{dt}"],["q = C \\frac{dT}{dt}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Fn||(Fn=Object(dt.a)(["q"])))})," is heat transfer in Watts (i.e. Joules per second)"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(zn||(zn=Object(dt.a)(["[W = \frac{J}{s}]"],["[W = \\frac{J}{s}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Vn||(Vn=Object(dt.a)(["C"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_capacity",target:"_blank",children:"Thermal Capacitance"})," ",", or Heat Capacity, in Joules per degree Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Hn||(Hn=Object(dt.a)(["[\frac{J}{K}]"],["[\\frac{J}{K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(qn||(qn=Object(dt.a)(["\frac{dT}{dt}"],["\\frac{dT}{dt}"])))})," is the derivative of temperature with respect to time in degrees per second"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Jn||(Jn=Object(dt.a)(["[\frac{K}{s}]"],["[\\frac{K}{s}]"])))})]})]}),Object(g.jsxs)(Vi,{children:["Note we now have two equations for"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Un||(Un=Object(dt.a)(["q"])))}),", heat transfer in Watts. Equating these, working out the signs, and adding in power generated or consumed, we obtain the following:"]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Yn||(Yn=Object(dt.a)(["C \frac{dT}{dt} = sum{\frac{Delta T}{R}} - q_{generated/consumed}"],["C \\frac{dT}{dt} = \\sum{\\frac{\\Delta T}{R}} - q_{generated/consumed}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Xn||(Xn=Object(dt.a)(["C"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_capacity",target:"_blank",children:"Thermal Capacitance"})," ",", or Heat Capacity, in Joules per degree Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Gn||(Gn=Object(dt.a)(["[\frac{J}{K}]"],["[\\frac{J}{K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Qn||(Qn=Object(dt.a)(["\frac{dT}{dt}"],["\\frac{dT}{dt}"])))})," is the derivative of temperature with respect to time in degrees per second"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Zn||(Zn=Object(dt.a)(["[\frac{K}{s}]"],["[\\frac{K}{s}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw($n||($n=Object(dt.a)(["Delta T"],["\\Delta T"])))})," is the temperature difference in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ei||(ei=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ti||(ti=Object(dt.a)(["R"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_resistance",target:"_blank",children:"Thermal Resistance"})," ","in degrees Kelvin per Watt"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ni||(ni=Object(dt.a)(["[\frac{K}{W}]"],["[\\frac{K}{W}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ii||(ii=Object(dt.a)(["q_{generated/consumed}"])))})," ","is the net heat generated or consumed, in Watts"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ai||(ai=Object(dt.a)(["[W]"])))})]})]}),Object(g.jsx)(Vi,{children:"This partial differential equation can be converted to a numerical equation with reasonable results assuming the time step between discrete states is small. In using thermalmodel.com, you'll notice that if you increase the time step too much and rerun a model, unstable results appear - at too high a time step size, errors compound at each step and blow up the temperature differences to unreasonable numbers. If you see instability, decrease the time step size and rerun your model."}),Object(g.jsx)(Vi,{children:"Assuming small time steps, this equation holds for each node in the model:"}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(ri||(ri=Object(dt.a)(["Delta T_{node} = \frac{Delta{t}}{C_{node}}(sum{\frac{T_{other_node} - T_{node}}{R_{other_node leftrightarrow node}}} - q_{generated/consumed})"],["\\Delta T_{node} = \\frac{\\Delta{t}}{C_{node}}(\\sum{\\frac{T_{other\\_node} - T_{node}}{R_{other\\_node \\leftrightarrow node}}} - q_{generated/consumed})"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(oi||(oi=Object(dt.a)(["Delta{T}_{node}"],["\\Delta{T}_{node}"])))})," ","is the change in temperature of the node of interest at that time step, in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ci||(ci=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(si||(si=Object(dt.a)(["Delta{t}"],["\\Delta{t}"])))})," is the time step in seconds"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(di||(di=Object(dt.a)(["[s]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(li||(li=Object(dt.a)(["C_{node}"])))})," is"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_capacity",target:"_blank",children:"Thermal Capacitance"})," ",", or Heat Capacity, of the node of interest in Joules per degree Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ui||(ui=Object(dt.a)(["[\frac{J}{K}]"],["[\\frac{J}{K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(fi||(fi=Object(dt.a)(["T_{other_node}"],["T_{other\\_node}"])))})," is the current temperature of a node that is thermally connected with the node of interest in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ji||(ji=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(hi||(hi=Object(dt.a)(["T_{node}"])))})," is the current temperature the node of interest in degrees"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(bi||(bi=Object(dt.a)(["[K]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(pi||(pi=Object(dt.a)(["R_{other_node leftrightarrow node}"],["R_{other\\_node \\leftrightarrow node}"])))})," ","is the"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_resistance",target:"_blank",children:"Thermal Resistance"})," ","between the two thermally connected nodes in degrees Kelvin per Watt",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(mi||(mi=Object(dt.a)(["[\frac{K}{W}]"],["[\\frac{K}{W}]"])))})," if conduction or convection, or degrees Kelvin to the fourth per Watt",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(xi||(xi=Object(dt.a)(["[\frac{K^4}{W}]"],["[\\frac{K^4}{W}]"])))})," if radiation"]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Oi||(Oi=Object(dt.a)(["q_{generated/consumed}"])))})," ","is the net heat generated or consumed by the node of interest, in Watts ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(vi||(vi=Object(dt.a)(["[W]"])))})]})]}),Object(g.jsx)(Vi,{children:"Under the hood, thermalmodel.com solves the above equation for each node at each timestep, resulting in a set of temperature values for each node at each timestep over the duration of the model."}),Object(g.jsx)(Vi,{children:"Fixed temperature, i.e. boundary condition nodes do not change temperature over time. They influence nodes that are thermally connected to them, but their calculated temperature difference at each time step is discarded rather than added to their previous temperature."}),Object(g.jsx)(Vi,{children:"Nodes can be thermally connected through Conduction, Convection, or Radiation. The user should calculate thermal resistance differently depending on the type of connection, as follows:"}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(gi||(gi=Object(dt.a)(["R_{conduction} = \frac{L}{kA} quad \text{units:} Big{[}\frac{K}{W}Big{]}"],["R_{conduction} = \\frac{L}{kA} \\quad \\text{units:} \\Big{[}\\frac{K}{W}\\Big{]}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(yi||(yi=Object(dt.a)(["L"])))})," is the conduction length, in meters"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(wi||(wi=Object(dt.a)(["[m]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Si||(Si=Object(dt.a)(["k"])))})," is the"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Thermal_conductivity",target:"_blank",children:"Thermal Conductivity"}),", in Watts per meter per degrees Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(ki||(ki=Object(dt.a)(["[\frac{W}{mK}]"],["[\\frac{W}{mK}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ci||(Ci=Object(dt.a)(["A"])))})," is the conduction area, in meters squared"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(_i||(_i=Object(dt.a)(["[m^2]"])))})]})]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Ni||(Ni=Object(dt.a)(["R_{convection} = \frac{1}{hA} quad \text{units:} Big{[}\frac{K}{W}Big{]}"],["R_{convection} = \\frac{1}{hA} \\quad \\text{units:} \\Big{[}\\frac{K}{W}\\Big{]}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ti||(Ti=Object(dt.a)(["h"])))})," is the"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Heat_transfer_coefficient",target:"_blank",children:"Convective Heat Transfer Coefficient"}),", in Watts per meters squared per degrees Kelvin"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Di||(Di=Object(dt.a)(["[\frac{W}{m^2K}]"],["[\\frac{W}{m^2K}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Pi||(Pi=Object(dt.a)(["A"])))})," is the convection area, in meters squared"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Wi||(Wi=Object(dt.a)(["[m^2]"])))})]})]}),Object(g.jsx)(Li.a,{display:!0,tex:String.raw(Ki||(Ki=Object(dt.a)(["R_{radiation} = \frac{1}{epsilon sigma A} quad \text{units:} Big{[}\frac{K^4}{W}Big{]}"],["R_{radiation} = \\frac{1}{\\epsilon \\sigma A} \\quad \\text{units:} \\Big{[}\\frac{K^4}{W}\\Big{]}"])))}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Mi||(Mi=Object(dt.a)(["epsilon"],["\\epsilon"])))})," is the"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Emissivity",target:"_blank",children:"Emissivity"}),", a unit-less quantity"]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ii||(Ii=Object(dt.a)(["sigma"],["\\sigma"])))})," is the"," ",Object(g.jsx)(Hi,{href:"https://en.wikipedia.org/wiki/Stefan%E2%80%93Boltzmann_constant",target:"_blank",children:"Stefan-Boltzmann constant"}),","," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ri||(Ri=Object(dt.a)(["5.67 cdot 10^{\u22128}"],["5.67 \\cdot 10^{\u22128}"])))})," ","Watts per meters squared per degrees Kelvin to the fourth"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ai||(Ai=Object(dt.a)(["[\frac{W}{m^2K^4}]"],["[\\frac{W}{m^2K^4}]"])))})]}),Object(g.jsxs)(qi,{children:[Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Ei||(Ei=Object(dt.a)(["A"])))})," is the radiation area, in meters squared"," ",Object(g.jsx)(Li.a,{display:!1,tex:String.raw(Bi||(Bi=Object(dt.a)(["[m^2]"])))})]})]}),Object(g.jsx)(Vi,{children:"In building your model, you're responsible for determining thermal resistances between nodes, thermal capacitances of nodes, and power generation or consumption in each node in your model. From there, thermalmodel.com will do the rest."}),Object(g.jsxs)(Vi,{children:["The source code for the model can be seen"," ",Object(g.jsx)(Hi,{href:"https://github.com/robinovitch61/thermalmodel.com/tree/main/packages/hotstuff-network",target:"_blank",children:"here as a standalone Javascript package on npm"}),"."]})]})}var Ui=d.a.div.withConfig({displayName:"Modal__StyledModal",componentId:"sc-1kbl9yb-0"})(["font-size:1.1em;line-height:1.4em;position:absolute;width:80vw;height:90vh;max-width:1400px;left:0;right:0;top:0;bottom:0;margin:auto;border:3px solid black;z-index:10;background:white;display:",";justify-content:center;align-items:center;"],(function(e){return e.visible?"flex":"none"}));function Yi(e){var t,n,a=e.modalState,r=e.setModalState,o=Object(i.useRef)(null);t=o,n=function(){return r((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},Object(i.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]);var c=function(e,t){var n=e.type;return"confirm"===n?Object(g.jsx)(dn,{modalState:e,setModalState:t}):"theory"===n?Object(g.jsx)(Ji,{}):Object(g.jsx)("h1",{children:"Coming Soon"})}(a,r);return Object(g.jsxs)(Ui,{ref:o,visible:a.visible,children:[Object(g.jsx)(it,{onClick:function(){return r((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"\u274c"}),c]})}function Xi(){var e=function(e,t){var n=i.useState((function(){var n=window.sessionStorage.getItem(t);return null===n||void 0===n?e:JSON.parse(n)})),a=Object(o.a)(n,2),r=a[0],c=a[1];return i.useEffect((function(){window.sessionStorage.setItem(t,JSON.stringify(r))}),[t,r]),[r,c]}(Fe,"thermalModelAppState"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(void 0),d=Object(o.a)(r,2),l=d[0],u=d[1],f=Object(i.useState)(Le),j=Object(o.a)(f,2),h=j[0],b=j[1],p=nt(),m=Object(o.a)(p,3),x=m[0],O=m[1],v=m[2],y=function(e,t){return[Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{nodes:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{connections:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{canvasViewState:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{savedCanvasState:t})}))}),[e]),Object(i.useCallback)((function(n){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{timing:n})})),t(void 0)}),[e,t])]}(a,u),w=Object(o.a)(y,5),k=w[0],C=w[1],_=w[2],N=w[3],T=w[4],D=function(e,t,n,a,r){var o=Object(i.useCallback)((function(n){var i=e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})}));i.push(Object(S.a)(Object(S.a)({},n),{},{isActive:!0})),t(i),r(void 0)}),[e,t,r]),c=Object(i.useCallback)((function(e){a([].concat(Object(ie.a)(n),[e])),r(void 0)}),[n,a,r]),s=Object(i.useCallback)((function(i){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.map((function(e){return i.find((function(t){return t.id===e.id}))||(r?Object(S.a)(Object(S.a)({},e),{},{isActive:!1}):e)}));t(o);var c=n.map((function(e){var t=i.find((function(t){return e.firstNode.id==t.id}));if(t)return Object(S.a)(Object(S.a)({},e),{},{firstNode:t,firstNodeId:t.id});var n=i.find((function(t){return e.secondNode.id==t.id}));return n?Object(S.a)(Object(S.a)({},e),{},{secondNode:n,secondNodeId:n.id}):e}));a(c)}),[n,e,a,t]);return[o,c,s,Object(i.useCallback)((function(i){var o=n.filter((function(e){return!i.includes(e.firstNode.id)&&!i.includes(e.secondNode.id)}));a(o),r(void 0);var c=e.filter((function(e){return!i.includes(e.id)}));t(c)}),[n,e,a,t,r]),Object(i.useCallback)((function(e){var t=e.map((function(e){var t=e.firstNode.name<e.secondNode.name;return Object(S.a)(Object(S.a)({},e),{},{firstNode:t?e.firstNode:e.secondNode,firstNodeId:t?e.firstNode.id:e.secondNode.id,secondNode:t?e.secondNode:e.firstNode,secondNodeId:t?e.secondNode.id:e.firstNode.id})})),i=t.map((function(e){return e.id})),o=n.filter((function(e){return!i.includes(e.id)}));a([].concat(Object(ie.a)(t),Object(ie.a)(o))),r(void 0)}),[n,a,r]),Object(i.useCallback)((function(e){a(n.filter((function(t){return!e.includes(t.id)}))),r(void 0)}),[n,a,r]),Object(i.useCallback)((function(n){t(e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:n.includes(e.id)})})))}),[e,t]),Object(i.useCallback)((function(){void 0!==e.find((function(e){return e.isActive}))&&t(e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})})))}),[e,t])]}(n.nodes,k,n.connections,C,u),P=Object(o.a)(D,8),W=P[0],K=P[1],M=P[2],I=P[3],R=P[4],A=P[5],E=P[6],B=P[7],L=Object(i.useState)(!0),F=Object(o.a)(L,2),V=F[0],H=F[1];!function(e,t,n,a){Object(i.useEffect)((function(){var i=function(i){e&&(i.metaKey&&65===i.keyCode&&(i.preventDefault(),n(t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!0})})))),"Backspace"!==i.key&&"Delete"!==i.key||(i.preventDefault(),a(t.filter((function(e){return e.isActive})).map((function(e){return e.id})))),27===i.keyCode&&n(t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})}))))};return document.addEventListener("keydown",i),function(){return document.removeEventListener("keydown",i)}}),[t,a,e,n])}(V,n.nodes,k,I);var q=function(e,t){var n=Object(i.useCallback)((function(n){be(n,e,t),he(n,e)}),[t,e]),a=Object(i.useCallback)((function(e){e.context&&(e.context.clearRect(-e.canvasViewState.offset.x,-e.canvasViewState.offset.y,e.canvasWidth/e.canvasViewState.scale,e.canvasHeight/e.canvasViewState.scale),n(e.context))}),[n]);return[n,a]}(n.nodes,n.connections),J=Object(o.a)(q,2),Y=J[0],G=J[1],Q=function(e,t,n){return Object(i.useCallback)((function(i,a){if(i.preventDefault(),!s.multiSelectKeys.some((function(e){return i[e]}))){var r,o=Oe(i,a),c=e.find((function(t){var n=ve(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return me(o,t.center,n)}));if(c)n([Object(S.a)(Object(S.a)({},c),{},{textDirection:(r=c.textDirection,"D"===r?"R":"R"===r?"U":"U"===r?"L":"D")})]);else{var d=X(e,o);t(d)}}}),[t,e,n])}(n.nodes,W,M),Z=Xt(n.nodes,n.connections,K,M,E,B,G),$=function(){var e=Object(i.useState)([0,0]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(1),c=Object(o.a)(r,2),s=c[0],d=c[1];return Object(i.useLayoutEffect)((function(){function e(){a([window.innerWidth,window.innerHeight])}function t(){var e=window.devicePixelRatio;d(void 0===e?1:e)}return window.addEventListener("resize",e),window.addEventListener("resize",t),e(),t(),function(){window.removeEventListener("resize",e),window.removeEventListener("resize",t)}}),[]),[n,s]}(),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(o.a)(te,2),ce=ae[0],se=ae[1],de=function(e,t,n){var a=Object(i.useCallback)((function(e){var t=n*s.minPanelFraction,i=n*(1-s.minPanelFraction);return e<t?t:e>i?i:e}),[n]),r=Object(i.useCallback)((function(e){var n=t*s.minPanelFraction,i=t*(1-s.minPanelFraction);return e<n?n:e>i?i:e}),[t]);return[Object(i.useRef)(null),Gt({onDragY:Object(i.useCallback)((function(n){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{canvasHeightFraction:Qt(e.panelSizes.canvasHeightFraction+n/t)})})}))}),[e,t]),constrainY:r}),Object(i.useRef)(null),Gt({onDragX:Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{editorWidthFraction:Qt(e.panelSizes.editorWidthFraction-t/n)})})}))}),[e,n]),constrainX:a}),Object(i.useRef)(null),Gt({onDragY:Object(i.useCallback)((function(n){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{tableHeightFraction:Qt(e.panelSizes.tableHeightFraction+n/t)})})}))}),[e,t]),constrainY:r})]}(a,se,ce),le=Object(o.a)(de,6),ue=le[0],fe=le[1],je=le[2],pe=le[3],xe=le[4],ge=le[5],ye=ce,we=se,Se=se*n.panelSizes.canvasHeightFraction,ke=ce*(1-n.panelSizes.editorWidthFraction),Ce=(1-n.panelSizes.canvasHeightFraction)*se-s.tabHeightPx-s.plotHeightBufferPx,_e=ke,Ne=n.panelSizes.editorWidthFraction*ce,Te=Object(i.useMemo)((function(){return Object(g.jsx)(Dt,{plotDimensions:{height:Ce,width:_e,margin:s.plotMargin},modelOutput:l})}),[l,Ce,_e]),De=Object(i.useCallback)((function(){W(X(n.nodes,function(e,t,n,i){var a=n;return re(oe({x:e,y:t},2*i),a)}(ke,Se,n.canvasViewState.offset,n.canvasViewState.scale)))}),[W,n.canvasViewState.offset,n.canvasViewState.scale,n.nodes,Se,ke]),Pe=Object(i.useCallback)((function(){var e=function(e,t){var n,i=Object(z.a)(e);try{for(i.s();!(n=i.n()).done;){var a,r=n.value,o=Object(z.a)(e);try{for(o.s();!(a=o.n()).done;){var c=a.value;if(r.id!==c.id){var s=U(r,c,t);if(s)return s}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){i.e(d)}finally{i.f()}}(n.nodes,n.connections);void 0!==e&&K(e)}),[K,n.connections,n.nodes]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(Yi,{modalState:h,setModalState:b}),Object(g.jsx)(rt,{errors:x,setErrors:O}),Object(g.jsxs)(Zt,{height:se,modalOpen:h.visible,children:[Object(g.jsx)(en,{ref:ue,onMouseDown:fe,y:n.panelSizes.canvasHeightFraction,width:1-n.panelSizes.editorWidthFraction,left:0}),Object(g.jsx)(tn,{ref:je,onMouseDown:pe,x:1-n.panelSizes.editorWidthFraction}),Object(g.jsx)(en,{ref:xe,onMouseDown:ge,y:n.panelSizes.tableHeightFraction,width:n.panelSizes.editorWidthFraction,left:1-n.panelSizes.editorWidthFraction}),Object(g.jsxs)(nn,{height:we,width:(1-n.panelSizes.editorWidthFraction)*ye,children:[Object(g.jsx)(an,{height:Se,children:Object(g.jsx)(qt,{canvasWidth:ke,canvasHeight:Se,devicePixelRatio:ne,draw:Y,onMouseDown:Z,handleDoubleClick:Q,canvasViewState:n.canvasViewState,setCanvasViewState:_,savedCanvasViewState:n.savedCanvasState,setSavedCanvasViewState:N,setKeyboardActive:H,setModalState:b})}),Te]}),Object(g.jsx)(ot,{appState:n,setAppState:a,setOutput:u,setModalState:b,height:se,width:Ne,setTiming:T,onAddNode:De,onAddConnection:Pe,updateNodes:function(e){M(e),u(void 0)},deleteNodes:I,updateConnections:function(e){R(e),u(void 0)},deleteConnections:A,onRunModel:function(){var e,t=Object(c.run)({nodes:n.nodes,connections:n.connections,timeStepS:n.timing.timeStepS,totalTimeS:n.timing.totalTimeS});return(null===(e=t.errors)||void 0===e?void 0:e.length)&&v(t.errors.map((function(e){return e.message}))),u(t),t}})]})]})}window.addEventListener("load",(function(){(function(){var e=document.createElement("div"),t=document.createElement("div");e.style.width="30px",e.style.height="30px",e.style.overflow="scroll",e.style.borderWidth="0",t.style.width="30px",t.style.height="60px",e.appendChild(t),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n>0})()||document.body.classList.add("force-show-scrollbars")})),r.a.render(Object(g.jsx)(i.StrictMode,{children:Object(g.jsx)(Xi,{})}),document.getElementById("root"))}},[[554,1,2]]]);
//# sourceMappingURL=main.f12c4bc2.chunk.js.map