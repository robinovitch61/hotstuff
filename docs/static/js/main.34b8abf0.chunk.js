(this.webpackJsonphotstuff=this.webpackJsonphotstuff||[]).push([[0],{180:function(e,t,n){},335:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(83),a=n.n(o),c=(n(180),n(6)),r=n(24),s={defaultTempDegC:23,defaultCapJPerDegK:10,defaultPowerGenW:0,defaultTotalTimeSeconds:600,defaultTimeStepSeconds:.1,defaultNodeRadius:20,defaultResistanceDegKPerW:10,defaultConnectionKind:"bi",newNodeNamePrefix:"New Node",zoomSensitivity:1500,minZoom:.5,maxZoom:2,maxZoomDelta:2,minRadiusPx:20,maxRadiusPx:40,activeNodeOutlineWidthPx:5,tabHeightPx:25,plotHeightBufferPx:10,tableDeleteCellWidthPerc:.1,tableDeleteCellMinWidthPx:40,plotMargin:{left:10,right:20,top:20,bottom:20},plotDomainMargin:2,maxPlotPoints:400,multiSelectKey:"metaKey"},l=n(4),d=l.a.div.withConfig({displayName:"style__StyledTableWrapper",componentId:"sc-em5pgb-0"})(["width:100%;"]),u=l.a.div.withConfig({displayName:"style__StyledTable",componentId:"sc-em5pgb-1"})(["width:100%;border-collapse:collapse;"]),f=l.a.div.withConfig({displayName:"style__StyledTableBody",componentId:"sc-em5pgb-2"})(["width:100%;"]),m=l.a.button.withConfig({displayName:"style__StyledAddButton",componentId:"sc-em5pgb-3"})([""]),b=l.a.div.withConfig({displayName:"style__StyledRow",componentId:"sc-em5pgb-4"})(["display:inline-flex;align-items:center;min-width:100%;position:sticky;top:",";background:",";"],(function(e){var t=e.heightOffsetPx;return t?"".concat(t,"px"):"0px"}),(function(e){return e.isActive?"rgba(112, 165, 255, 0.2)":"none"})),h=l.a.div.withConfig({displayName:"style__StyledCell",componentId:"sc-em5pgb-5"})(["display:inline-flex;justify-content:center;align-items:center;border:1px solid #ddd;height:2em;width:",";min-width:",";"],(function(e){var t=e.width;return"".concat(100*t,"%")}),(function(e){var t=e.minWidth;return t?"".concat(t,"px"):"none"})),p=Object(l.a)(h).withConfig({displayName:"style__StyledDeleteCell",componentId:"sc-em5pgb-6"})(["cursor:pointer;user-select:none;min-width:40px;&:hover{background:black;}"]),v=l.a.div.withConfig({displayName:"style__StyledHeaderWrapper",componentId:"sc-em5pgb-7"})(["display:flex;width:100%;height:100%;position:sticky;top:",";z-index:1;"],(function(e){var t=e.heightOffsetPx;return t?"".concat(t,"px"):"0px"})),j=l.a.div.withConfig({displayName:"style__StyledColHeader",componentId:"sc-em5pgb-8"})(["display:inline-flex;width:",";min-width:",";justify-content:center;align-items:center;font-weight:bold;border:1px solid lightgrey;cursor:pointer;user-select:none;position:relative;background:white;border-bottom:1px solid black;"],(function(e){var t=e.width;return"".concat(100*t,"%")}),(function(e){var t=e.minWidth;return t?"".concat(t,"px"):"none"})),x=l.a.div.withConfig({displayName:"style__StyledColText",componentId:"sc-em5pgb-9"})(["font-size:0.8em;padding:1em;"]),g=l.a.div.withConfig({displayName:"style__StyledSortIcon",componentId:"sc-em5pgb-10"})(["position:absolute;bottom:0;right:50%;transform:translate(50%);"]),y=n(1);function O(e){var t=e.columns,n=e.sortState,i=e.setSortState,o=n?"ASC"===n.direction?"\u25b2":"\u25bc":"";return Object(y.jsxs)(v,{heightOffsetPx:s.tabHeightPx,children:[t.map((function(e){var t=n&&n.key===e.key;return Object(y.jsxs)(j,{onClick:function(){var o;i({key:e.key,direction:t&&n?(o=n.direction,"ASC"===o?"DESC":"ASC"):"ASC"})},width:e.width,minWidth:e.minWidthPx,children:[Object(y.jsx)(x,{children:e.text}),Object(y.jsx)(g,{children:t?o:""})]},e.key.toString())})),Object(y.jsx)(j,{width:s.tableDeleteCellWidthPerc,minWidth:s.tableDeleteCellMinWidthPx,style:{cursor:"unset"}})]})}var w=n(54),S=n(3),C=l.a.select.withConfig({displayName:"DropDownTableCell__StyledSelect",componentId:"sc-qr2hm7-0"})(["display:inline-flex;width:100%;height:100%;background:unset;"]);function k(e){var t;return Object(y.jsx)(C,{value:null===(t=e.setOption)||void 0===t?void 0:t.id,onChange:function(t){var n=t.target.value,i=e.options.find((function(e){return e.id===n}));void 0!==i&&e.onSelectOption(e.rowId,i)},children:e.options.map((function(e){return Object(y.jsx)("option",{value:e.id,children:e.text},e.id)}))})}var D=l.a.input.withConfig({displayName:"style__StyledInput",componentId:"sc-bok34g-0"})(["display:inline-block;border:none;width:100%;height:100%;text-align:center;padding:0;background:unset;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}"]),_=l.a.div.withConfig({displayName:"style__StyledEditor",componentId:"sc-bok34g-1"})(["height:","px;width:","px;border-left:3px solid black;"],(function(e){return e.height}),(function(e){return e.width})),T=l.a.div.withConfig({displayName:"style__StyledTables",componentId:"sc-bok34g-2"})(["display:inline-flex;width:100%;height:","%;"],(function(e){return 100*e.heightFrac})),N=l.a.div.withConfig({displayName:"style__StyledModelControlsWrapper",componentId:"sc-bok34g-3"})(["display:inline-flex;width:100%;height:","%;"],(function(e){return 100*e.heightFrac}));function P(e){var t=e.initialValue,n=e.onBlur,o=e.getNewValue,a=Object(i.useState)(t.toString()),r=Object(c.a)(a,2),s=r[0],l=r[1];var d=Object(i.useCallback)((function(e){var i=o(e);e.target.value!==t.toString()&&(void 0!==i?(l(i.toString()),n(i)):(l(t.toString()),n(t)))}),[o,t,n]);return Object(y.jsx)(D,{type:"text",value:s,onChange:function(e){var t=e.target.value;void 0!==t&&l(t)},onBlur:d,onKeyDown:function(e){"Escape"===e.key||e.key}})}function M(e){return Object(y.jsx)(P,{initialValue:e.initialValue,onBlur:e.onBlur,getNewValue:function(e){return e.target.value}},e.initialValue)}function W(e){return Object(y.jsx)(M,{initialValue:e.initialVal,onBlur:e.onBlur})}function I(e){var t=e.target.value,n=parseFloat(e.target.value);if(void 0!==t&&!isNaN(n))return n}function A(e){return Object(y.jsx)(P,{initialValue:e.initialValue,onBlur:e.onBlur,getNewValue:I},e.initialValue)}function R(e){return Object(y.jsx)(A,{initialValue:e.initialVal,onBlur:e.onBlur})}var E=l.a.div.withConfig({displayName:"BooleanTableCell__StyledCheckbox",componentId:"sc-1aoxdk6-0"})(["display:inline-flex;width:100%;height:100%;justify-content:center;align-items:center;cursor:pointer;user-select:none;"]);function L(e){var t=Object(i.useState)(void 0!==e.initialIsActive&&e.initialIsActive),n=Object(c.a)(t,2),o=n[0],a=n[1];return Object(y.jsxs)(E,{tabIndex:0,onKeyUp:function(t){"Enter"===t.key&&(a(!o),e.onClick(!o))},onClick:function(){a(!o),e.onClick(!o)},children:["\xa0",o?e.showWhenActive:""]})}function B(e){var t=e.row,n=e.col,i=e.options,o=e.initiallySetOption,a=e.onUpdateRow,c=t[n.key];return i&&i.length>0&&n.onSelectOption?Object(y.jsx)(k,{rowId:t.id,options:i,setOption:o,onSelectOption:n.onSelectOption},t.id):"string"===typeof c?Object(y.jsx)(W,{initialVal:c,onBlur:function(e){return a(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))}}):"number"===typeof c&&"number"===typeof t[n.key]?Object(y.jsx)(R,{initialVal:c,onBlur:function(e){return a(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))}}):"boolean"===typeof c?Object(y.jsx)(L,{initialIsActive:c,onClick:function(e){return a(Object(S.a)(Object(S.a)({},t),{},Object(w.a)({},n.key,e)))},showWhenActive:"\u2705"},c.toString()):Object(y.jsx)(y.Fragment,{})}function K(e){var t=Object(i.useState)(e.default),n=Object(c.a)(t,2),o=n[0],a=n[1];return[o,a,function(e,t){return"ASC"===o.direction?e[o.key]>t[o.key]||e[o.key]===t[o.key]&&e.id>t.id?1:-1:e[o.key]>t[o.key]?-1:e[o.key]===t[o.key]?e.id>t.id?1:-1:1}]}function z(e){return Object(y.jsx)(p,{tabIndex:0,onKeyUp:function(t){"Enter"===t.key&&e.onDeleteRow(e.row)},width:s.tableDeleteCellWidthPerc,minWidth:s.tableDeleteCellMinWidthPx,onClick:function(){return e.onDeleteRow(e.row)},children:"\u274c"})}var V={key:"name",direction:"ASC"},H=[{key:"name",text:"Name",width:.3,minWidthPx:100},{key:"temperatureDegC",text:"Temp [degC]",width:.15,minWidthPx:100},{key:"capacitanceJPerDegK",text:"Capacitance [J/degK]",width:.15,minWidthPx:100},{key:"powerGenW",text:"Power Gen [W]",width:.15,minWidthPx:80},{key:"isBoundary",text:"Boundary?",width:.15,minWidthPx:80}];function F(e){var t=e.rows,n=e.onUpdateRow,i=e.onDeleteRow,o=e.onAddButton,a=K({default:V}),r=Object(c.a)(a,3),l=r[0],p=r[1],v=r[2],j=t.sort(v).map((function(e){return Object(y.jsxs)(b,{heightOffsetPx:s.tabHeightPx,isActive:e.isActive,children:[H.map((function(t){var i=Object(y.jsx)(B,{row:e,col:t,onUpdateRow:n});return Object(y.jsx)(h,{width:t.width,minWidth:t.minWidthPx,children:i},t.key)})),Object(y.jsx)(z,{row:e,onDeleteRow:function(){return i(e)}})]},e.id)}));return Object(y.jsx)(d,{children:Object(y.jsxs)(u,{children:[Object(y.jsx)(O,{columns:H,sortState:l,setSortState:p}),Object(y.jsx)(f,{children:j}),Object(y.jsx)(m,{onClick:o,children:"+"})]})})}var J=n(25),U={key:"sourceName",direction:"ASC"},Y=[{id:"bi",text:"Bidirectional"},{id:"uni",text:"Unidirectional"},{id:"rad",text:"Radiative"}];function q(e){var t=K({default:U}),n=Object(c.a)(t,3),o=n[0],a=n[1],r=n[2],l=Object(i.useCallback)((function(t,n){var i=e.rows.find((function(e){return e.id===t})),o=e.nodes.find((function(e){return e.id===n.id}));i&&o&&o.id!==i.target.id&&e.onUpdateRow(Object(S.a)(Object(S.a)({},i),{},{source:o,sourceName:o.name}))}),[e]),p=Object(i.useCallback)((function(t,n){var i=e.rows.find((function(e){return e.id===t})),o=e.nodes.find((function(e){return e.id===n.id}));i&&o&&o.id!==i.source.id&&e.onUpdateRow(Object(S.a)(Object(S.a)({},i),{},{target:o,targetName:o.name}))}),[e]),v=Object(i.useCallback)((function(t,n){var i=e.rows.find((function(e){return e.id===t}));i&&e.onUpdateRow(Object(S.a)(Object(S.a)({},i),{},{kind:n.id}))}),[e]),j=e.nodes.map((function(e){return{id:e.id,text:e.name}})),x=Object(i.useMemo)((function(){return[{text:"Source",key:"sourceName",width:.3,minWidthPx:100,options:j,onSelectOption:l},{text:"Target",key:"targetName",width:.3,minWidthPx:100,options:j,onSelectOption:p},{text:"Resistance [degK/W]",key:"resistanceDegKPerW",width:.2,minWidthPx:100},{text:"Kind",key:"kind",width:.2,minWidthPx:100,options:Y,onSelectOption:v}]}),[j,v,l,p]),g=e.nodes.filter((function(e){return e.isActive})).map((function(e){return e.id})),w=e.rows.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:g.includes(e.source.id)||g.includes(e.target.id)})})).sort(r).map((function(t){var n=x.map((function(n){function i(e){return Object(y.jsx)(h,{width:n.width,minWidth:n.minWidthPx,children:e},n.key)}if(n.options){var o,a=null===(o=n.options)||void 0===o?void 0:o.find((function(e){return e.id===t[n.key]||e.text===t[n.key]})),c=a?[a].concat(Object(J.a)(function(e,t,n,i,o){var a=o.filter((function(e){return!(e.source.id===n&&e.target.id===i)}));return"sourceName"===e?t.filter((function(e){return e.id!==i})).filter((function(e){return!a.some((function(t){return t.source.id===e.id&&t.target.id===i||t.source.id===i&&t.target.id===e.id}))})):"targetName"===e?t.filter((function(e){return e.id!==n})).filter((function(e){return!a.some((function(t){return t.source.id===n&&t.target.id===e.id||t.source.id===e.id&&t.target.id===n}))})):t}(n.key,n.options||[],t.source.id,t.target.id,e.rows).filter((function(e){return e.id!==a.id})))):[];return i(Object(y.jsx)(B,{row:t,col:n,options:c,initiallySetOption:a,onUpdateRow:e.onUpdateRow}))}return i(Object(y.jsx)(B,{row:t,col:n,onUpdateRow:e.onUpdateRow}))}));return Object(y.jsxs)(b,{heightOffsetPx:s.tabHeightPx,isActive:t.isActive,children:[n,Object(y.jsx)(z,{row:t,onDeleteRow:function(){return e.onDeleteRow(t)}})]},t.id)}));return Object(y.jsx)(d,{children:Object(y.jsxs)(u,{children:[Object(y.jsx)(O,{columns:x,sortState:o,setSortState:a}),Object(y.jsx)(f,{children:w}),Object(y.jsx)(m,{onClick:e.onAddButton,children:"+"})]})})}var G=l.a.div.withConfig({displayName:"Tabs__StyledTabsWrapper",componentId:"sc-1lldz8u-0"})(["display:inline-flex;width:100%;flex-direction:column;overflow:auto;position:relative;"]),X=l.a.div.withConfig({displayName:"Tabs__StyledTabs",componentId:"sc-1lldz8u-1"})(["display:inline-flex;width:100%;height:","px;justify-content:space-evenly;position:sticky;top:0;background:white;box-sizing:border-box;z-index:1;"],s.tabHeightPx),Z=l.a.div.withConfig({displayName:"Tabs__StyledTab",componentId:"sc-1lldz8u-2"})(["display:inline-flex;width:",";cursor:pointer;text-decoration:none;align-items:center;background:linear-gradient( 90deg,rgba(46,228,233,1) 0%,rgba(46,228,233,1) 40%,rgba(255,0,230,1) 80%,rgba(85,9,121,1) 100% );border-radius:5px 5px 0 0;border:1px solid black;border-bottom:2px solid black;&:hover,&:focus{opacity:0.7;}"],(function(e){var t=e.width;return"".concat(100*t,"%")})),Q=l.a.div.withConfig({displayName:"Tabs__StyledTabText",componentId:"sc-1lldz8u-3"})(["font-size:1.1em;padding:0.2em 0.5em;&.active{font-weight:bold;}"]),$=l.a.div.withConfig({displayName:"Tabs__StyledInnerContent",componentId:"sc-1lldz8u-4"})(["background:white;position:relative;"]);function ee(e){var t=Object(i.useState)(0),n=Object(c.a)(t,2),o=n[0],a=n[1];return Object(y.jsxs)(G,{children:[e.tabs.length>1&&Object(y.jsx)(X,{children:e.tabs.map((function(e,t){return Object(y.jsx)(Z,{tabIndex:0,onClick:function(){return a(t)},onKeyUp:function(e){"Enter"===e.key&&a(t)},width:e.width,children:Object(y.jsx)(Q,{className:t===o?"active":"",children:e.text})},e.text)}))}),Object(y.jsx)($,{topLeftRounded:e.tabs.length<=1,children:e.tabs.filter((function(e,t){return t===o}))[0].component})]})}var te=Object.freeze({x:0,y:0});function ne(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ie(e,t){return{x:e.x/t,y:e.y/t}}var oe=Object(r.makeNode)({name:"Jerry the Cat",temperatureDegC:38.3,capacitanceJPerDegK:16200,powerGenW:100,isBoundary:!1}),ae=Object(S.a)(Object(S.a)({},oe),{},{center:{x:200,y:150},isActive:!1,textDirection:"L"}),ce=Object(r.makeNode)({name:"Heated Cat Bed",temperatureDegC:40,capacitanceJPerDegK:1e4,powerGenW:4,isBoundary:!1}),re=Object(S.a)(Object(S.a)({},ce),{},{center:{x:500,y:150},isActive:!1,textDirection:"R"}),se=Object(r.makeNode)({name:"Apartment Air",temperatureDegC:22.5,capacitanceJPerDegK:6e5,powerGenW:0,isBoundary:!1}),le=[ae,re,Object(S.a)(Object(S.a)({},se),{},{center:{x:350,y:300},isActive:!1,textDirection:"D"})],de=[Object(S.a)(Object(S.a)({},Object(r.makeConnection)({source:oe,target:ce,resistanceDegKPerW:2.5,kind:"bi"})),{},{sourceName:oe.name,targetName:ce.name}),Object(S.a)(Object(S.a)({},Object(r.makeConnection)({source:oe,target:se,resistanceDegKPerW:.33,kind:"bi"})),{},{sourceName:oe.name,targetName:se.name}),Object(S.a)(Object(S.a)({},Object(r.makeConnection)({source:ce,target:se,resistanceDegKPerW:.33,kind:"bi"})),{},{sourceName:ce.name,targetName:se.name})],ue={offset:te,scale:1},fe={visible:!0,type:"tutorial"},me={output:void 0,timing:{timeStepS:s.defaultTimeStepSeconds,totalTimeS:s.defaultTotalTimeSeconds},nodes:le,connections:de,canvasViewState:ue,savedCanvasState:ue,panelSizes:{editorWidthFraction:1-1/1.61803398875,canvasHeightFraction:1/1.61803398875,tableHeightFraction:.5}},be=l.a.div.withConfig({displayName:"ModelControls__StyledModelControlsWrapper",componentId:"sc-1sx26x7-0"})(["display:flex;flex-direction:column;height:100%;width:100%;justify-content:center;align-items:center;border-top:3px solid black;padding-top:1em;"]),he=l.a.button.withConfig({displayName:"ModelControls__StyledButton",componentId:"sc-1sx26x7-1"})(["margin-top:5px;margin-bottom:5px;"]),pe=l.a.div.withConfig({displayName:"ModelControls__StyledImport",componentId:"sc-1sx26x7-2"})([""]),ve=l.a.div.withConfig({displayName:"ModelControls__StyledTimeControls",componentId:"sc-1sx26x7-3"})([""]),je=l.a.div.withConfig({displayName:"ModelControls__StyledTimeControl",componentId:"sc-1sx26x7-4"})(["display:flex;width:100%;align-items:center;justify-content:space-between;margin:0.5em;"]),xe=l.a.div.withConfig({displayName:"ModelControls__StyledInputWrapper",componentId:"sc-1sx26x7-5"})(["max-width:3em;height:1.5em;"]),ge=l.a.label.withConfig({displayName:"ModelControls__StyledLabel",componentId:"sc-1sx26x7-6"})(["margin-right:0.2em;"]);function ye(e){var t=e.appState,n=e.setAppState,o=e.setModalState,a=e.onRunModel,r=e.setTiming,s=Object(i.useState)(""),l=Object(c.a)(s,2),d=l[0],u=l[1];return Object(y.jsxs)(be,{children:[Object(y.jsxs)(ve,{children:[Object(y.jsxs)(je,{children:[Object(y.jsx)(ge,{children:"Run Time [s]:"}),Object(y.jsx)(xe,{children:Object(y.jsx)(A,{initialValue:t.timing.totalTimeS,onBlur:function(e){return r(Object(S.a)(Object(S.a)({},t.timing),{},{totalTimeS:e}))}})})]}),Object(y.jsxs)(je,{children:[Object(y.jsx)(ge,{children:"Time Step [s]:"}),Object(y.jsx)(xe,{children:Object(y.jsx)(A,{initialValue:t.timing.timeStepS,onBlur:function(e){return r(Object(S.a)(Object(S.a)({},t.timing),{},{timeStepS:e}))}})})]})]}),Object(y.jsx)(he,{onClick:a,children:"Run Model"}),Object(y.jsx)(he,{onClick:function(){return navigator.clipboard.writeText(JSON.stringify(t))},children:"Copy Model to ClipBoard"}),Object(y.jsxs)(pe,{children:[Object(y.jsx)("input",{value:d,onChange:function(e){return u(e.target.value)}}),Object(y.jsx)(he,{onClick:function(){n(JSON.parse(d)),u("")},children:"Import Model"})]}),Object(y.jsx)(he,{onClick:function(){return o((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!0,type:"confirm",onConfirm:function(){return n(me)},confirmText:["This will permanently reset the entire model, losing all your current nodes, connections, parameters and output data.","Do you want to proceed?"]})}))},children:"Reset"})]})}function Oe(e){var t=e.appState,n=e.setAppState,i=e.setModalState,o=e.width,a=e.height,c=e.setTiming,r=e.onAddNode,s=e.onAddConnection,l=e.updateNodes,d=e.deleteNodes,u=e.updateConnections,f=e.deleteConnections,m=e.onRunModel,b=Object(y.jsx)(F,{rows:t.nodes,onUpdateRow:function(e){return l([e],!1)},onDeleteRow:function(e){return d([e.id])},onAddButton:r}),h=Object(y.jsx)(q,{rows:t.connections,nodes:t.nodes,onUpdateRow:function(e){return u([e])},onDeleteRow:function(e){return f([e.id])},onAddButton:s});return Object(y.jsxs)(_,{width:o,height:a,children:[Object(y.jsx)(T,{heightFrac:t.panelSizes.tableHeightFraction,children:Object(y.jsx)(ee,{tabs:[{text:"Nodes",component:b,width:.5},{text:"Connections",component:h,width:.5}]})}),Object(y.jsx)(N,{heightFrac:1-t.panelSizes.tableHeightFraction,children:Object(y.jsx)(ye,{appState:t,setAppState:n,setModalState:i,onRunModel:m,setTiming:c})})]})}var we,Se,Ce=n(55),ke=n(169),De=n(337),_e=n(342),Te=n(166),Ne=n(167),Pe=n(74),Me=n(71),We=l.a.div.withConfig({displayName:"LinePlot__StyledToolTip",componentId:"sc-1bhr7mq-0"})(["background:rgba(255,255,255,0.7);padding:0.2em;border:1px solid black;"]),Ie=l.a.div.withConfig({displayName:"LinePlot__StyledToolTipTitle",componentId:"sc-1bhr7mq-1"})(["font-size:1em;font-weight:bold;"]),Ae=l.a.div.withConfig({displayName:"LinePlot__StyledToolTipItem",componentId:"sc-1bhr7mq-2"})(["color:",";display:flex;justify-content:space-between;"],(function(e){return e.color})),Re=l.a.div.withConfig({displayName:"LinePlot__StyledToolTipValue",componentId:"sc-1bhr7mq-3"})(['margin-left:1em;&::after{content:"','";}'],(function(e){return e.after}));function Ee(e){var t=e.active,n=e.payload,i=e.label,o=e.after;if(t&&n&&n.length){var a=Object(J.a)(n).sort((function(e,t){return e.value>t.value?-1:e.value===t.value?e.name>t.name?1:-1:1}));return Object(y.jsxs)(We,{children:[Object(y.jsx)(Ie,{children:"Time: ".concat(i,"s")}),a.map((function(e){return Object(y.jsxs)(Ae,{color:e.color||"black",children:[Object(y.jsx)("div",{children:e.name}),Object(y.jsx)(Re,{after:o,children:e.value})]},e.name)}))]})}return null}function Le(e){var t=e.plotDimensions,n=e.plotData,i=e.lines,o=e.xAxisKey,a=e.xLabel,c=e.yLabel,r=e.yDomain,s=e.unit;return Object(y.jsxs)(De.a,{height:t.height,width:t.width,margin:t.margin,data:n,children:[Object(y.jsx)(_e.a,{strokeDasharray:"3 3"}),Object(y.jsx)(Te.a,{dataKey:o,label:{value:a,position:"center",dy:20}}),Object(y.jsx)(Ne.a,{domain:r,label:{value:c,position:"center",angle:-90,dx:-20}}),Object(y.jsx)(Pe.a,{content:Object(y.jsx)(Ee,{after:s})}),Object(y.jsx)(Me.a,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{paddingLeft:"10px",paddingBottom:"10px"}}),i]})}var Be=s.maxPlotPoints,Ke=s.plotDomainMargin,ze=["#2ecc71","#3498db","#9b59b6","#e74c3c","#e67e22","#34495e","#16a085"],Ve=l.a.div(we||(we=Object(Ce.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  .chart {\n    width: 60% !important;\n    max-width: 900px;\n\n    @media only screen and (max-width: 600px) {\n      width: 90% !important;\n      touch-action: pan-y;\n    }\n  }\n"]))),He=l.a.div(Se||(Se=Object(Ce.a)(["\n  width: 100%;\n  height: ","px;\n  border-top: 3px solid black;\n  margin: 0;\n  padding: 0;\n"])),(function(e){return e.height}));function Fe(e){return Math.round(10*e)/10}function Je(e){var t=Math.floor(Math.log10(e.totalTimeS)),n=Math.pow(10,t-1);var i=e.timeSeriesS.length<Be,o=[],a=1e9,c=-1e9,r=[],s=1e9,l=-1e9;return e.timeSeriesS.forEach((function(t,d){if(i||(m=t,0===Math.abs(m%n))){var u={time:t},f={time:t};e.nodeResults.forEach((function(e){var t=e.tempDegC[d];t<a?a=t:t>c&&(c=t),u[e.node.name]=Fe(t)})),e.connectionResults.forEach((function(e){var t=e.heatTransferW[d];t<s?s=t:t>l&&(l=t),f["".concat(e.connection.source.name," to ").concat(e.connection.target.name)]=Fe(t)})),o.push(u),r.push(f)}var m})),[o,[a,c],r,[s,l]]}function Ue(e){var t=!!(e.modelOutput&&e.modelOutput.nodeResults.length>0),n=t&&e.modelOutput?e.modelOutput:r.emptyOutput,o=Je(n),a=Object(c.a)(o,4),s=a[0],l=a[1],d=a[2],u=a[3],f=t?[Math.floor(l[0])-Ke,Math.ceil(l[1]+Ke)]:void 0,m=t?[Math.floor(u[0])-Ke,Math.ceil(u[1]+Ke)]:void 0,b=Object(i.useMemo)((function(){return n.connectionResults.map((function(e,t){return Object(y.jsx)(ke.a,{type:"monotone",dataKey:"".concat(e.connection.source.name," to ").concat(e.connection.target.name),stroke:ze[t],activeDot:{r:8},isAnimationActive:!1},e.connection.id)}))}),[n.connectionResults]),h=Object(i.useMemo)((function(){return n.nodeResults.map((function(e,t){return Object(y.jsx)(ke.a,{type:"monotone",dataKey:e.node.name,stroke:ze[t],activeDot:{r:8},isAnimationActive:!1},e.node.id)}))}),[n.nodeResults]),p=Object(y.jsx)(Le,{plotDimensions:e.plotDimensions,plotData:s,lines:h,xAxisKey:"time",xLabel:"Time [s]",yLabel:"Temperature [degC]",yDomain:f,unit:"degC"}),v=Object(y.jsx)(Le,{plotDimensions:e.plotDimensions,plotData:d,lines:b,xAxisKey:"time",xLabel:"Time [s]",yLabel:"Heat Transfer [Watts]",yDomain:m,unit:"W"});return Object(y.jsx)(He,{height:e.plotDimensions.height,width:e.plotDimensions.width,children:Object(y.jsx)(Ve,{children:Object(y.jsx)(ee,{tabs:[{text:"Temperature",component:p,width:.5},{text:"Heat Transfer",component:v,width:.5}]})})})}var Ye=n(343),qe=s.activeNodeOutlineWidthPx,Ge=s.minRadiusPx,Xe=s.maxRadiusPx,Ze=Math.floor((Ge+Xe)/2);function Qe(e,t,n,i,o,a,c,r){!function(e,t,n,i){e.save(),e.beginPath(),e.arc(t.x,t.y,n,0,2*Math.PI),e.fillStyle=i,e.fill(),e.closePath(),e.restore()}(e,n,i,o),a&&function(e,t,n,i){e.save(),e.beginPath(),e.arc(t.x,t.y,n-qe/2,0,2*Math.PI),e.lineWidth=qe,e.strokeStyle=i,e.stroke(),e.closePath(),e.restore()}(e,n,i,"black"),c&&function(e,t,n){e.save(),e.lineWidth=2,e.fillStyle="#FFFFFF",e.translate(t.x,t.y),e.rotate(Math.PI/4),e.beginPath(),e.moveTo(-n,0),e.lineTo(n,0),e.stroke();for(var i=0;i+4.5<n;){i+=4.5;var o=n*Math.sin(Math.acos(i/n));e.moveTo(-o-1,i),e.lineTo(o+1,i),e.stroke(),e.moveTo(-o-1,-i),e.lineTo(o+1,-i),e.stroke()}e.closePath(),e.beginPath(),e.arc(0,0,n+2,0,2*Math.PI,!1),e.arc(0,0,n,0,2*Math.PI,!0),e.fill(),e.restore()}(e,n,i),function(e,t,n,i,o){e.save(),e.font="14px Helvetica";var a=e.measureText(t),c=a.width;e.translate(n.x,n.y),"D"===o?e.fillText(t,-c/2,a.actualBoundingBoxAscent+i+2):"R"===o?e.fillText(t,i+2,a.actualBoundingBoxAscent/2):"U"===o?e.fillText(t,-c/2,-(a.actualBoundingBoxDescent+i+2)):e.fillText(t,-(c+i+2),a.actualBoundingBoxAscent/2),e.restore()}(e,t,n,i,r)}function $e(e,t,n,i,o,a){"bi"===a?function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=2;var c=9,r=4,s=0,l=n.x-t.x,d=n.y-t.y,u=Math.atan2(d,l),f=Math.sqrt(l*l+d*d)-a;e.translate(t.x,t.y),e.rotate(u),e.beginPath(),e.moveTo(o,s),e.lineTo(f,s),e.moveTo(f-c,r+s),e.lineTo(f,s),e.lineTo(f-c,-(r-s)),e.moveTo(f,-s),e.lineTo(o,-s),e.moveTo(o+c,-(r+s)),e.lineTo(o,-s),e.lineTo(o+c,r-s),e.stroke(),e.closePath(),e.restore()}(e,t,i,"black",n,o):function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=2;var c=9,r=4,s=n.x-t.x,l=n.y-t.y,d=Math.atan2(l,s),u=Math.sqrt(s*s+l*l)-a;e.translate(t.x,t.y),e.rotate(d),e.beginPath(),e.moveTo(o,0),e.lineTo(u,0),e.moveTo(u-c,-r),e.lineTo(u,0),e.lineTo(u-c,r),e.stroke(),e.closePath(),e.restore()}(e,t,i,"black",n,o)}function et(e,t,n){var i=e.x-t.x,o=e.y-t.y;return Math.pow(i,2)+Math.pow(o,2)<=Math.pow(n,2)}function tt(e,t){var n={x:e.pageX,y:e.pageY},i=t.getBoundingClientRect();return ne(n,{x:i.left,y:i.top})}function nt(e,t){if(t.context){var n=tt(e,t.context.canvas);return i=n,o=t.canvasViewState.offset,a=t.canvasViewState.scale,ne(ie(i,a),o)}return te;var i,o,a}function it(e,t){var n=Math.min.apply(Math,Object(J.a)(t)),i=Math.max.apply(Math,Object(J.a)(t));return n===i?Ze:(e-n)/(i-n)*(Xe-Ge)+Ge}var ot=s.maxZoom,at=s.minZoom,ct=s.zoomSensitivity,rt=s.maxZoomDelta;var st=l.a.div.withConfig({displayName:"CanvasControls__StyledButtons",componentId:"sc-dw7m6l-0"})(["position:absolute;bottom:0;left:0;display:flex;flex-direction:column;"]),lt=l.a.button.withConfig({displayName:"CanvasControls__StyledButton",componentId:"sc-dw7m6l-1"})(["margin:0.2em;"]);function dt(e){return Object(y.jsxs)(st,{children:[Object(y.jsx)(lt,{onClick:function(){return e.canvasState.context&&e.setCanvasViewState({offset:te,scale:1})},children:"Reset View"}),Object(y.jsx)(lt,{onClick:function(){return e.canvasState.context&&e.setCanvasViewState({offset:e.savedCanvasState.offset,scale:e.savedCanvasState.scale})},children:"Reset View to Saved"}),Object(y.jsx)(lt,{onClick:function(){e.setSavedCanvasState({offset:e.canvasState.canvasViewState.offset,scale:e.canvasState.canvasViewState.scale})},children:"Save View"})]})}var ut,ft,mt=l.a.div.withConfig({displayName:"ModalControls__StyledModalControls",componentId:"sc-144vhow-0"})(["position:absolute;right:10px;top:10px;"]),bt=l.a.button.withConfig({displayName:"ModalControls__StyledModalControlButton",componentId:"sc-144vhow-1"})(["margin-left:1em;"]);function ht(e){var t=e.setModalState;return Object(y.jsxs)(mt,{children:[Object(y.jsx)(bt,{onClick:function(){return t({visible:!0,type:"theory"})},children:"Theory"}),Object(y.jsx)(bt,{onClick:function(){return t({visible:!0,type:"tutorial"})},children:"Tutorial"}),Object(y.jsx)(bt,{onClick:function(){return t({visible:!0,type:"about"})},children:"About"})]})}var pt=l.a.div(ut||(ut=Object(Ce.a)(["\n  display: block;\n  max-height: 100%;\n  position: relative;\n"]))),vt=l.a.canvas(ft||(ft=Object(Ce.a)(["\n  width: ",";\n  height: ",";\n"])),(function(e){var t=e.cssWidth;return"".concat(t,"px")}),(function(e){var t=e.cssHeight;return"".concat(t,"px")}));function jt(e){var t,n,o=e.canvasWidth,a=e.canvasHeight,r=e.devicePixelRatio,s=e.draw,l=e.onMouseDown,d=e.handleDoubleClick,u=e.canvasViewState,f=e.setCanvasViewState,m=e.savedCanvasViewState,b=e.setSavedCanvasViewState,h=e.setKeyboardActive,p=e.setModalState,v=Object(i.useRef)(null);t=v,n=h,Object(i.useEffect)((function(){var e=function(e){var i=!!t.current&&t.current.contains(e.target);n(i)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n]);var j=function(e,t,n){var o=Object(i.useState)(null),a=Object(c.a)(o,2),r=a[0],s=a[1],l=Object(i.useRef)(te),d=Object(i.useRef)(te),u=Object(i.useRef)(t),f=Object(i.useCallback)((function(e){if(r){var i=tt(e,r.canvas);d.current=l.current,l.current=i;var o=ie(ne(l.current,d.current),t.scale),a={scale:t.scale,offset:(c=u.current.offset,s=o,{x:c.x+s.x,y:c.y+s.y})};n(a),u.current=a}var c,s}),[r,t.scale,n]),m=Object(i.useCallback)((function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}),[f]),b=Object(i.useCallback)((function(e){r&&(document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),l.current=tt(e,r.canvas))}),[r,f,m]);return Object(i.useLayoutEffect)((function(){function i(e){if(e.preventDefault(),r){var i=tt(e,r.canvas);d.current=l.current,l.current=i;var o=e.deltaY/ct,a=1-(Math.abs(o)>rt?o/Math.abs(o)*rt:o),c=t.scale*a;if(c>ot||c<at)return;var s=ne(ie(l.current,t.scale),ie(l.current,c)),f={offset:ne(u.current.offset,s),scale:c};n(f),u.current=f}}var o=e.current;if(o)return u.current=t,o.addEventListener("wheel",i),function(){return o.removeEventListener("wheel",i)}}),[e,t,r,n]),[r,s,b]}(v,u,f),x=Object(c.a)(j,3),g=x[0],O=x[1],w=x[2];return Object(i.useLayoutEffect)((function(){if(v.current){var e=v.current.getContext("2d");O(e)}}),[O]),Object(i.useLayoutEffect)((function(){g&&(g.canvas.width=o*r,g.canvas.height=a*r,g.scale(u.scale*r,u.scale*r),g.translate(u.offset.x,u.offset.y),s(g))}),[a,o,g,r,s,u.offset.x,u.offset.y,u.scale]),Object(y.jsxs)(pt,{children:[Object(y.jsx)(ht,{setModalState:p}),Object(y.jsx)(dt,{setCanvasViewState:f,canvasState:{context:g,canvasViewState:u,canvasWidth:o,canvasHeight:a},savedCanvasState:m,setSavedCanvasState:b}),Object(y.jsx)(vt,{ref:v,width:o*r,height:a*r,cssWidth:o,cssHeight:a,onMouseDown:function(e){return l(e,{context:g,canvasViewState:u,canvasWidth:o,canvasHeight:a},(function(){return w(e)}))},onDoubleClick:function(e){return d(e,{context:g,canvasViewState:u,canvasWidth:o,canvasHeight:a})}})]})}function xt(e,t){var n=Object(i.useCallback)((function(n){e.forEach((function(t){var i=it(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK}))),o=function(e,t){var n=Math.min.apply(Math,Object(J.a)(t)),i=Math.max.apply(Math,Object(J.a)(t)),o=i-n;return Object(Ye.a)().domain([n-o/3,(n+i)/2,i+o/3]).range(["blue","#ababab","red"])(e)}(t.temperatureDegC,e.map((function(e){return e.temperatureDegC})));Qe(n,t.name,t.center,i,o,t.isActive,t.isBoundary,t.textDirection)})),t.map((function(t){var i=t.source,o=t.target,a=t.kind,c=e.find((function(e){return e.id===i.id})),r=e.find((function(e){return e.id===o.id}));if(c&&r){var s=it(c.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK}))),l=it(r.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));$e(n,c.center,s,r.center,l,a)}}))}),[t,e]),o=Object(i.useCallback)((function(e){e.context&&(e.context.clearRect(-e.canvasViewState.offset.x,-e.canvasViewState.offset.y,e.canvasWidth/e.canvasViewState.scale,e.canvasHeight/e.canvasViewState.scale),n(e.context))}),[n]);return[n,o]}var gt=s.newNodeNamePrefix;function yt(e,t){var n=e.filter((function(e){return e.name.startsWith(gt)})).length,i=Object(r.makeNode)({name:0===n?"".concat(gt):"".concat(gt," (").concat(n+1,")"),temperatureDegC:s.defaultTempDegC,capacitanceJPerDegK:s.defaultCapJPerDegK,powerGenW:s.defaultPowerGenW,isBoundary:!1});return Object(S.a)(Object(S.a)({},i),{},{center:t,isActive:!1,textDirection:"D"})}var Ot=s.defaultResistanceDegKPerW,wt=s.defaultConnectionKind;function St(e,t,n,o){var a=Object(i.useCallback)((function(e,t,n){if(n.context){var i=nt(e,n);o(n),function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=2;var c=n.x-t.x,r=n.y-t.y,s=Math.atan2(r,c),l=Math.sqrt(c*c+r*r);e.translate(t.x,t.y),e.rotate(s),e.beginPath(),e.moveTo(o,0);var d=l-a;e.lineTo(d,0),e.stroke(),e.closePath(),e.restore()}(n.context,t.center,i,"grey")}}),[o]);return Object(i.useCallback)((function(i,c,s){var l=function(e){a(e,c,s)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function i(a){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i);var d=nt(a,s),u=e.find((function(n){var i=it(n.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return et(d,n.center,i)&&n.id!==c.id&&!t.some((function(e){return e.source.id===n.id&&e.target.id===c.id||e.target.id===n.id&&e.source.id===c.id}))}));if(u){var f=Object(S.a)(Object(S.a)({},Object(r.makeConnection)({source:c,target:u,resistanceDegKPerW:Ot,kind:wt})),{},{sourceName:c.name,targetName:u.name});n(f)}else o(s)}))}),[n,t,e,o,a])}function Ct(e,t,n,i,o,a){var c=ne(nt(e,n),i.center),r=ne(nt(t,n),c),s=Object(S.a)(Object(S.a)({},i),{},{isActive:!0,center:r}),l=i.isActive||o?a.map((function(e){var t=ne(i.center,e.center);return Object(S.a)(Object(S.a)({},e),{},{center:ne(r,t)})})):[];return[s].concat(Object(J.a)(l))}function kt(e,t,n){return Object(i.useCallback)((function(i,o){var a=nt(i,o),r=function(e){var t,i,c,r;o.context&&(n(o),t=o.context,i=a,c=nt(e,o),r="grey",t.save(),t.beginPath(),t.fillStyle=r,t.globalAlpha=.2,t.fillRect(i.x,i.y,c.x-i.x,c.y-i.y),t.closePath(),t.beginPath(),t.strokeStyle=r,t.rect(i.x,i.y,c.x-i.x,c.y-i.y),t.stroke(),t.closePath(),t.restore())};document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function n(i){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n);var s=nt(i,o),l=e.filter((function(e){return function(e,t,n){var i=e.x<t.x&&e.y<t.y?[e,t]:[t,e],o=Object(c.a)(i,2),a=o[0],r=o[1],s=e.x<t.x&&e.y>t.y?[e,t]:[t,e],l=Object(c.a)(s,2),d=l[0],u=l[1];return a.x<=n.x&&n.x<=r.x&&a.y<=n.y&&n.y<=r.y||d.x<=n.x&&n.x<=u.x&&u.y<=n.y&&n.y<=d.y}(a,s,e.center)||e.isActive})).map((function(e){return e.id}));t(l)}))}),[e,n,t])}function Dt(e,t,n,o,a,c,r){var l=St(e,t,n,r),d=function(e){var t=Object(i.useRef)(!1);return Object(i.useCallback)((function(n,i,o,a){var c=n[s.multiSelectKey],r=function(r){if(a.context){t.current=!0;var l=Ct(n,r,a,i,c,o);e(l,!r[s.multiSelectKey])}};document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function s(l){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s);var d=Ct(n,l,a,i,c,o);e(d,!c),t.current=!1}))}),[e])}(o),u=kt(e,a,r);return Object(i.useCallback)((function(t,n,i){var o=nt(t,n),r=e.filter((function(e){return e.isActive})),f=r.map((function(e){return e.id})),m=e.find((function(t){var n=it(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return et(o,t.center,n)}));if(m)t.altKey?l(t,m,n):t[s.multiSelectKey]&&f.includes(m.id)?a(f.filter((function(e){return e!==m.id}))):d(t,m,r,n);else if(t[s.multiSelectKey])u(t,n);else{document.addEventListener("mouseup",(function e(n){n.clientX===t.clientX&&n.clientY===t.clientY&&c(),document.removeEventListener("mouseup",e)})),i(t)}}),[e,c,d,u,l,a])}function _t(e){var t=Object(i.useRef)(void 0),n=e.onDragX,o=e.onDragY,a=function e(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)},c=function(e){if(t.current){var i={x:e.pageX,y:e.pageY},a=ne(i,t.current);n&&n(a.x),o&&o(a.y),t.current=i}};return function(e){document.addEventListener("mousemove",c),document.addEventListener("mouseup",a),t.current={x:e.pageX,y:e.pageY}}}var Tt=l.a.div.withConfig({displayName:"style__StyledApp",componentId:"sc-1fv66eb-0"})(["display:flex;height:","px;filter:",";pointer-events:",";user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;"],(function(e){return e.height}),(function(e){return e.modalOpen?"blur(5px)":"unset"}),(function(e){return e.modalOpen?"none":"unset"})),Nt=l.a.div.withConfig({displayName:"style__StyledDraggableBorder",componentId:"sc-1fv66eb-1"})(["position:absolute;z-index:1;"]),Pt=Object(l.a)(Nt).withConfig({displayName:"style__StyledHorizontalBorder",componentId:"sc-1fv66eb-2"})(["width:","%;height:10px;top:","%;transform:translate(0,-5px);cursor:row-resize;left:","%;"],(function(e){return 100*e.width}),(function(e){return 100*e.y}),(function(e){return 100*e.left})),Mt=Object(l.a)(Nt).withConfig({displayName:"style__StyledVerticalBorder",componentId:"sc-1fv66eb-3"})(["height:100%;width:10px;left:","%;transform:translate(-5px,0);cursor:col-resize;"],(function(e){return 100*e.x})),Wt=l.a.div.withConfig({displayName:"style__StyledWorkspace",componentId:"sc-1fv66eb-4"})(["height:","px;width:","px;"],(function(e){return e.height}),(function(e){return e.width})),It=l.a.div.withConfig({displayName:"style__StyledCanvas",componentId:"sc-1fv66eb-5"})(["width:100%;height:","px;"],(function(e){return e.height}));var At=l.a.div.withConfig({displayName:"ConfirmationModal__StyledConfirmationModal",componentId:"sc-1xml1af-0"})(["display:flex;flex-direction:column;margin:2em;justify-content:center;align-items:center;"]),Rt=l.a.p.withConfig({displayName:"ConfirmationModal__StyledConfirmationText",componentId:"sc-1xml1af-1"})(["margin:0.8em;font-size:1.5em;font-weight:bold;max-width:800px;text-align:center;"]),Et=l.a.div.withConfig({displayName:"ConfirmationModal__StyledConfirmationButtons",componentId:"sc-1xml1af-2"})(["display:flex;"]),Lt=l.a.button.withConfig({displayName:"ConfirmationModal__StyledConfirmationButton",componentId:"sc-1xml1af-3"})(["font-size:1.5em;margin-left:1em;margin-right:1em;min-width:100px;"]);function Bt(e){var t=e.modalState,n=e.setModalState;return Object(y.jsxs)(At,{children:[t.confirmText&&t.confirmText.map((function(e){return Object(y.jsx)(Rt,{children:e},e)})),Object(y.jsxs)(Et,{children:[Object(y.jsx)(Lt,{onClick:function(){return n((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"No"}),Object(y.jsx)(Lt,{onClick:function(){t.onConfirm&&t.onConfirm(),n((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"Yes"})]})]})}var Kt=l.a.div.withConfig({displayName:"TheoryModal__StyledTheoryModal",componentId:"sc-104s81p-0"})(["width:80%;max-width:1200px;"]),zt=l.a.h1.withConfig({displayName:"TheoryModal__StyledTitle",componentId:"sc-104s81p-1"})([""]),Vt=l.a.p.withConfig({displayName:"TheoryModal__StyledText",componentId:"sc-104s81p-2"})([""]),Ht=l.a.a.withConfig({displayName:"TheoryModal__StyledLink",componentId:"sc-104s81p-3"})([""]);l.a.p.withConfig({displayName:"TheoryModal__StyledTheoryText",componentId:"sc-104s81p-4"})(["font-size:1.5em;font-weight:bold;max-width:800px;text-align:center;"]),l.a.div.withConfig({displayName:"TheoryModal__StyledTheoryButtons",componentId:"sc-104s81p-5"})(["display:flex;"]),l.a.button.withConfig({displayName:"TheoryModal__StyledTheoryButton",componentId:"sc-104s81p-6"})(["font-size:1.5em;margin-left:1em;margin-right:1em;min-width:100px;"]);function Ft(){return Object(y.jsxs)(Kt,{children:[Object(y.jsx)(zt,{children:"How Does this Thermal Model Work?"}),Object(y.jsx)(Vt,{children:'The thermal model used by hotstuff.network is a simple, linear, "state space" numerical model based off the following equation:'}),Object(y.jsxs)(Vt,{children:["The source code for the entire model can be seen"," ",Object(y.jsx)(Ht,{href:"https://github.com/robinovitch61/hotstuff.network/tree/main/packages/hotstuff-network",target:"_blank",rel:"noreferrer",children:"here as a standalone npm package"})," ","- contributions are welcome!"]})]})}var Jt=l.a.div.withConfig({displayName:"Modal__StyledModal",componentId:"sc-5laest-0"})(["position:absolute;width:80vw;height:90vh;max-width:1400px;left:0;right:0;top:0;bottom:0;margin:auto;border:3px solid black;z-index:10;background:white;display:",";justify-content:center;align-items:center;"],(function(e){return e.visible?"flex":"none"})),Ut=l.a.button.withConfig({displayName:"Modal__StyledExitButton",componentId:"sc-5laest-1"})(["position:absolute;right:1em;top:1em;font-size:1.2em;"]);function Yt(e){var t,n,o=e.modalState,a=e.setModalState,c=Object(i.useRef)(null);t=c,n=function(){return a((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},Object(i.useEffect)((function(){var e=function(e){e.preventDefault(),t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]);var r=function(e,t){var n=e.type;return"confirm"===n?Object(y.jsx)(Bt,{modalState:e,setModalState:t}):"theory"===n?Object(y.jsx)(Ft,{}):Object(y.jsx)("h1",{children:n})}(o,a);return Object(y.jsxs)(Jt,{ref:c,visible:o.visible,children:[Object(y.jsx)(Ut,{onClick:function(){return a((function(e){return Object(S.a)(Object(S.a)({},e),{},{visible:!1})}))},children:"X"}),r]})}var qt=s.plotMargin,Gt=s.tabHeightPx,Xt=s.plotHeightBufferPx;function Zt(){var e=function(e,t){var n=i.useState((function(){var n=window.sessionStorage.getItem(t);return null===n||void 0===n?e:JSON.parse(n)})),o=Object(c.a)(n,2),a=o[0],r=o[1];return i.useEffect((function(){window.sessionStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,r]}(me,"hotstuffAppState"),t=Object(c.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)(fe),l=Object(c.a)(a,2),d=l[0],u=l[1],f=function(e){return[Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{nodes:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{connections:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{canvasViewState:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{savedCanvasState:t})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{timing:t,output:void 0})}))}),[e]),Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{output:t})}))}),[e])]}(o),m=Object(c.a)(f,6),b=m[0],h=m[1],p=m[2],v=m[3],j=m[4],x=m[5],g=function(e,t,n,o,a){var c=Object(i.useCallback)((function(n){var i=e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})}));i.push(Object(S.a)(Object(S.a)({},n),{},{isActive:!0})),t(i),a(void 0)}),[e,t,a]),r=Object(i.useCallback)((function(e){o([].concat(Object(J.a)(n),[e])),a(void 0)}),[n,o,a]),s=Object(i.useCallback)((function(i){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=e.map((function(e){return i.find((function(t){return t.id===e.id}))||(a?Object(S.a)(Object(S.a)({},e),{},{isActive:!1}):e)}));t(c);var r=n.map((function(e){var t=i.find((function(t){return e.source.id==t.id}));if(t)return Object(S.a)(Object(S.a)({},e),{},{source:t,sourceName:t.name});var n=i.find((function(t){return e.target.id==t.id}));return n?Object(S.a)(Object(S.a)({},e),{},{target:n,targetName:n.name}):e}));o(r)}),[n,e,o,t]);return[c,r,s,Object(i.useCallback)((function(i){var c=n.filter((function(e){return!i.includes(e.source.id)&&!i.includes(e.target.id)}));o(c),a(void 0);var r=e.filter((function(e){return!i.includes(e.id)}));t(r)}),[n,e,o,t,a]),Object(i.useCallback)((function(e){var t=e.map((function(e){return e.id})),i=n.filter((function(e){return!t.includes(e.id)}));o([].concat(Object(J.a)(e),Object(J.a)(i))),a(void 0)}),[n,o,a]),Object(i.useCallback)((function(e){o(n.filter((function(t){return!e.includes(t.id)}))),a(void 0)}),[n,o,a]),Object(i.useCallback)((function(n){t(e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:n.includes(e.id)})})))}),[e,t]),Object(i.useCallback)((function(){void 0!==e.find((function(e){return e.isActive}))&&t(e.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})})))}),[e,t])]}(n.nodes,b,n.connections,h,x),O=Object(c.a)(g,8),w=O[0],C=O[1],k=O[2],D=O[3],_=O[4],T=O[5],N=O[6],P=O[7],M=Object(i.useState)(!0),W=Object(c.a)(M,2),I=W[0],A=W[1];!function(e,t,n,o){Object(i.useEffect)((function(){var i=function(i){e&&(i.metaKey&&65===i.keyCode&&(i.preventDefault(),n(t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!0})})))),"Backspace"!==i.key&&"Delete"!==i.key||(i.preventDefault(),o(t.filter((function(e){return e.isActive})).map((function(e){return e.id})))),27===i.keyCode&&n(t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{isActive:!1})}))))};return document.addEventListener("keydown",i),function(){return document.removeEventListener("keydown",i)}}),[t,o,e,n])}(I,n.nodes,b,D);var R=xt(n.nodes,n.connections),E=Object(c.a)(R,2),L=E[0],B=E[1],K=function(e,t,n){return Object(i.useCallback)((function(i,o){if(i.preventDefault(),!i[s.multiSelectKey]){var a,c=nt(i,o),r=e.find((function(t){var n=it(t.capacitanceJPerDegK,e.map((function(e){return e.capacitanceJPerDegK})));return et(c,t.center,n)}));if(r)n([Object(S.a)(Object(S.a)({},r),{},{textDirection:(a=r.textDirection,"D"===a?"R":"R"===a?"U":"U"===a?"L":"D")})]);else{var l=yt(e,c);t(l)}}}),[t,e,n])}(n.nodes,w,k),z=Dt(n.nodes,n.connections,C,k,N,P,B),V=function(){var e=Object(i.useState)([0,0]),t=Object(c.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)(1),r=Object(c.a)(a,2),s=r[0],l=r[1];return Object(i.useLayoutEffect)((function(){function e(){o([window.innerWidth,window.innerHeight])}function t(){var e=window.devicePixelRatio;l(void 0===e?1:e)}return window.addEventListener("resize",e),window.addEventListener("resize",t),e(),t(),function(){window.removeEventListener("resize",e),window.removeEventListener("resize",t)}}),[]),[n,s]}(),H=Object(c.a)(V,2),F=H[0],U=H[1],Y=Object(c.a)(F,2),q=Y[0],G=Y[1],X=function(e,t,n){return[Object(i.useRef)(null),_t({onDragY:Object(i.useCallback)((function(n){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{canvasHeightFraction:e.panelSizes.canvasHeightFraction+n/t})})}))}),[e,t])}),Object(i.useRef)(null),_t({onDragX:Object(i.useCallback)((function(t){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{editorWidthFraction:e.panelSizes.editorWidthFraction-t/n})})}))}),[e,n])}),Object(i.useRef)(null),_t({onDragY:Object(i.useCallback)((function(n){e((function(e){return Object(S.a)(Object(S.a)({},e),{},{panelSizes:Object(S.a)(Object(S.a)({},e.panelSizes),{},{tableHeightFraction:e.panelSizes.tableHeightFraction+n/t})})}))}),[e,t])})]}(o,G,q),Z=Object(c.a)(X,6),Q=Z[0],$=Z[1],ee=Z[2],te=Z[3],oe=Z[4],ae=Z[5],ce=q,re=G,se=G*n.panelSizes.canvasHeightFraction,le=q*(1-n.panelSizes.editorWidthFraction),de=(1-n.panelSizes.canvasHeightFraction)*G-Gt-Xt,ue=le,be=n.panelSizes.editorWidthFraction*q,he=Object(i.useMemo)((function(){return Object(y.jsx)(Ue,{plotDimensions:{height:de,width:ue,margin:qt},modelOutput:n.output})}),[n.output,de,ue]),pe=Object(i.useCallback)((function(){w(yt(n.nodes,function(e,t,n,i){var o=n;return ne(ie({x:e,y:t},2*i),o)}(le,se,n.canvasViewState.offset,n.canvasViewState.scale)))}),[w,n.canvasViewState.offset,n.canvasViewState.scale,n.nodes,se,le]),ve=Object(i.useCallback)((function(){var e=function(e,t){if(!(e.length<2)){var n=void 0;return e.forEach((function(i){e.forEach((function(e){if(!n&&i.id!==e.id){var o=t.find((function(t){return t.source.id===i.id&&t.target.id===e.id})),a=t.find((function(t){return t.source.id===e.id&&t.target.id===i.id}));if(!o&&!a){var c=Object(r.makeConnection)({source:i,target:e,resistanceDegKPerW:s.defaultResistanceDegKPerW,kind:"bi"});n=Object(S.a)(Object(S.a)({},c),{},{sourceName:i.name,targetName:e.name})}}}))})),n}}(n.nodes,n.connections);void 0!==e&&C(e)}),[C,n.connections,n.nodes]);return Object(y.jsxs)("div",{children:[Object(y.jsx)(Yt,{modalState:d,setModalState:u}),Object(y.jsxs)(Tt,{height:G,modalOpen:d.visible,children:[Object(y.jsx)(Pt,{ref:Q,onMouseDown:$,y:n.panelSizes.canvasHeightFraction,width:1-n.panelSizes.editorWidthFraction,left:0}),Object(y.jsx)(Mt,{ref:ee,onMouseDown:te,x:1-n.panelSizes.editorWidthFraction}),Object(y.jsx)(Pt,{ref:oe,onMouseDown:ae,y:n.panelSizes.tableHeightFraction,width:n.panelSizes.editorWidthFraction,left:1-n.panelSizes.editorWidthFraction}),Object(y.jsxs)(Wt,{height:re,width:(1-n.panelSizes.editorWidthFraction)*ce,children:[Object(y.jsx)(It,{height:se,children:Object(y.jsx)(jt,{canvasWidth:le,canvasHeight:se,devicePixelRatio:U,draw:L,onMouseDown:z,handleDoubleClick:K,canvasViewState:n.canvasViewState,setCanvasViewState:p,savedCanvasViewState:n.savedCanvasState,setSavedCanvasViewState:v,setKeyboardActive:A,setModalState:u})}),he]}),Object(y.jsx)(Oe,{appState:n,setAppState:o,setModalState:u,height:G,width:be,setTiming:j,onAddNode:pe,onAddConnection:ve,updateNodes:function(e){k(e),x(void 0)},deleteNodes:D,updateConnections:function(e){_(e),x(void 0)},deleteConnections:T,onRunModel:function(){var e,t=Object(r.run)({nodes:n.nodes,connections:n.connections,timeStepS:n.timing.timeStepS,totalTimeS:n.timing.totalTimeS});(null===(e=t.errors)||void 0===e?void 0:e.length)&&t.errors.forEach((function(e){return console.error(e.message)})),x(t)}})]})]})}window.addEventListener("load",(function(){(function(){var e=document.createElement("div"),t=document.createElement("div");e.style.width="30px",e.style.height="30px",e.style.overflow="scroll",e.style.borderWidth="0",t.style.width="30px",t.style.height="60px",e.appendChild(t),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n>0})()||document.body.classList.add("force-show-scrollbars")})),a.a.render(Object(y.jsx)(i.StrictMode,{children:Object(y.jsx)(Zt,{})}),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.34b8abf0.chunk.js.map