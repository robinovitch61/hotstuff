(this.webpackJsonphotstuff=this.webpackJsonphotstuff||[]).push([[0],{181:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var a,c,r,o,i,s,l,u,d=n(0),j=n.n(d),b=n(59),h=n.n(b),f=(n(181),n(17)),m=(n(112),n(32)),p=n(107),g=n(84),O=n(33),x=n(341),y=n(342),v=n(346),w=n(169),S=n(170),D=n(70),C=n(67),k=n(172),K=n(8),W=["#16a085","#2ecc71","#3498db","#9b59b6","#34495e","#f1c40f","#e67e22","#e74c3c"],T='[\n  {\n    "name": "first",\n    "temperatureDegC": 120,\n    "capacitanceJPerDegK": 200,\n    "powerGenW": 0,\n    "isBoundary": false\n  },\n  {\n    "name": "second",\n    "temperatureDegC": 40,\n    "capacitanceJPerDegK": 10,\n    "powerGenW": 3,\n    "isBoundary": true\n  },\n  {\n    "name": "third",\n    "temperatureDegC": -10,\n    "capacitanceJPerDegK": 8,\n    "powerGenW": 10,\n    "isBoundary": false\n  },\n]',P='[\n  {\n    source: "first",\n    target: "second",\n    resistanceDegKPerW: 0.1,\n    kind: "bi",\n  },\n  {\n    source: "second",\n    target: "third",\n    resistanceDegKPerW: 10,\n    kind: "bi",\n  },\n]',J=O.a.form(a||(a=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),R=O.a.div(c||(c=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin: 2em 0;\n\n  .chart {\n    width: 70% !important;\n\n    @media only screen and (max-width: 600px) {\n      width: 95% !important;\n    }\n  }\n"]))),V=O.a.div(r||(r=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 0.5em;\n"]))),B=O.a.div(o||(o=Object(m.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  margin: 0.5em;\n"]))),G=O.a.label(i||(i=Object(m.a)(["\n  display: flex;\n  width: 400px;\n  justify-content: space-between;\n"]))),M=O.a.label(s||(s=Object(m.a)(["\n  display: flex;\n  width: 600px;\n  justify-content: space-between;\n"]))),E=O.a.textarea(l||(l=Object(m.a)(["\n  width: 80%;\n  min-width: 80%;\n  max-width: 80%;\n  min-height: 200px;\n"]))),N=O.a.input(u||(u=Object(m.a)(["\n  width: 100px;\n  height: 30px;\n"])));function z(e){return Object(K.jsx)(V,{children:Object(K.jsxs)(G,{children:[e.label,Object(K.jsx)("input",{type:"text",defaultValue:e.defaultVal,onChange:function(t){return e.onChange(t)}})]})})}function A(e){return Object(K.jsx)(B,{children:Object(K.jsxs)(M,{children:[Object(K.jsx)("div",{style:{marginRight:"10px"},children:e.label}),Object(K.jsx)(E,{defaultValue:e.defaultVal,onChange:function(t){return e.onChange(t)}})]})})}function F(){var e=Object(d.useState)(void 0),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)(120),r=Object(f.a)(c,2),o=r[0],i=r[1],s=Object(d.useState)(.1),l=Object(f.a)(s,2),u=l[0],j=l[1],b=Object(d.useState)(Z(T)),h=Object(f.a)(b,2),m=h[0],O=h[1],V=Object(d.useState)(T),B=Object(f.a)(V,2),G=B[0],M=B[1],E=Object(d.useState)($(Z(T),P)),F=Object(f.a)(E,2),L=F[0],H=F[1],I=Object(d.useState)(P),q=Object(f.a)(I,2),Q=q[0],U=q[1],X=Object(d.useState)(null),Y=Object(f.a)(X,2);Y[0],Y[1];function Z(e){try{return p.parse(e).map((function(e){return Object(g.makeNode)({name:e.name,temperatureDegC:e.temperatureDegC,capacitanceJPerDegK:e.capacitanceJPerDegK,powerGenW:e.powerGenW,isBoundary:e.isBoundary})}))}catch(t){return console.error(t),[]}}function $(e,t){try{return p.parse(t).map((function(t){var n=e.filter((function(e){return e.name===t.source}))[0],a=e.filter((function(e){return e.name===t.target}))[0];return Object(g.makeConnection)({source:n,target:a,resistanceDegKPerW:t.resistanceDegKPerW,kind:t.bi})}))}catch(n){return console.error(n),[]}}Object(d.useEffect)((function(){var e=Z(G);O(e);var t=$(e,Q);H(t)}),[G,Q]);var _=350,ee={left:40,right:40,top:40,bottom:40};var te=n&&n.nodeResults.length>0?function(e){var t=Math.floor(Math.log10(e.totalTimeS)),n=Math.pow(10,t-1),a=e.timeSeriesS.length<400,c=[],r=[];return e.timeSeriesS.forEach((function(t,o){if(a||(l=t,0===Math.abs(l%n))){var i={name:t},s={name:t};e.nodeResults.forEach((function(e){i[e.node.name]=e.tempDegC[o]})),e.connectionResults.forEach((function(e){s["".concat(e.connection.source.name," to ").concat(e.connection.target.name)]=e.heatTransferW[o]})),c.push(i),r.push(s)}var l})),[c,r]}(n):[[],[]],ne=Object(f.a)(te,2),ae=ne[0],ce=ne[1];return Object(K.jsxs)("div",{children:[Object(K.jsxs)(J,{onSubmit:function(e){try{a(function(){var e=performance.now(),t=Object(g.run)({nodes:m,connections:L,timeStepS:u,totalTimeS:o}),n=performance.now();return console.log("Model took ".concat(n-e," ms")),t}())}catch(t){console.error(t)}e.preventDefault()},children:[n&&n.nodeResults.length>0?Object(K.jsxs)(R,{children:[Object(K.jsx)(x.a,{height:_,className:"chart",children:Object(K.jsxs)(y.a,{data:ae,margin:{top:0,right:ee.right,left:ee.left,bottom:ee.bottom},children:[Object(K.jsx)(v.a,{strokeDasharray:"3 3"}),Object(K.jsx)(w.a,{dataKey:"name",label:{value:"Time [seconds]",position:"middle",dy:20}}),Object(K.jsx)(S.a,{label:{value:"Temperature [degC]",position:"middle",angle:-90,dx:-20}}),Object(K.jsx)(D.a,{}),Object(K.jsx)(C.a,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{paddingLeft:"10px"}}),n.nodeResults.map((function(e,t){return Object(K.jsx)(k.a,{type:"monotone",dataKey:e.node.name,stroke:W[t],activeDot:{r:8}},e.node.id)}))]})}),Object(K.jsx)(x.a,{height:_,className:"chart",children:Object(K.jsxs)(y.a,{height:_,data:ce,margin:{top:0,right:ee.right,left:ee.left,bottom:ee.bottom},children:[Object(K.jsx)(v.a,{strokeDasharray:"3 3"}),Object(K.jsx)(w.a,{dataKey:"name",label:{value:"Time [seconds]",position:"middle",dy:20}}),Object(K.jsx)(S.a,{label:{value:"Heat Transfer [Watts]",position:"middle",angle:-90,dx:-20}}),Object(K.jsx)(D.a,{}),Object(K.jsx)(C.a,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{paddingLeft:"10px"},fontSize:5}),n.connectionResults.map((function(e,t){return Object(K.jsx)(k.a,{type:"monotone",dataKey:"".concat(e.connection.source.name," to ").concat(e.connection.target.name),stroke:W[t],activeDot:{r:8}},e.connection.id)}))]})})]}):Object(K.jsx)("h1",{children:"Welcome to hotstuff.network"}),Object(K.jsx)(N,{type:"submit",value:"Go"}),Object(K.jsx)(z,{label:"Time Step [seconds]",defaultVal:.1,onChange:function(e){return j(parseFloat(e.target.value))}}),Object(K.jsx)(z,{label:"Total Run Time [seconds]",defaultVal:120,onChange:function(e){return i(parseFloat(e.target.value))}}),Object(K.jsx)(A,{label:"Nodes",defaultVal:T,onChange:function(e){return M(e.target.value)}}),Object(K.jsx)(A,{label:"Connections",defaultVal:P,onChange:function(e){return U(e.target.value)}})]}),Object(K.jsx)("pre",{children:JSON.stringify(n,null,2)})]})}h.a.render(Object(K.jsx)(j.a.StrictMode,{children:Object(K.jsx)(F,{})}),document.getElementById("root"))}},[[339,1,2]]]);
//# sourceMappingURL=main.39aa1e70.chunk.js.map